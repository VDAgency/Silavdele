openapi: 3.0.1
info:
  title: UDS API
  version: 2.0.0
  description: >-
    This document describes the PARTNER API provided by UDS for partners. The
    PARTNER API is for developers who want to integrate UDS into their
    application. 


    PARTNER API provides with functionality that aims to perform various actions
    programmatically, including: 

    * obtaining company settings; 

    * listing, searching and acquiring information on company customers; 

    * listing and acquiring information on purchases; 

    * performing or refunding purchases. 


    ## How to use API 


    API provides with access to API-methods via URI paths. In order to use API,
    the application shall be able to make an HTTPS request and to parse the
    response. API is stateless by design, so the client shall provide with all
    data required for request processing in each request. Information required
    for request processing (business logic) is represented as a part of URI
    string and/or as content of the request body (for `POST`/`PUT` methods).
    Information required for data exchange infrastructure (e.g., authorization
    handling) is represented via custom request headers. 


    The response format is JSON (please check specification of each method
    regarding actual objects' structures). Your methods are standard HTTP
    methods: `GET`, `POST`, `DELETE` or `PUT`. Partner API is based on open
    standards, so you can use any web development language to access API. 


    ### URI 


    Each API method has a bound URI path. Therefore, each request sent to the
    server would have destination according to the following format:
    `https://<base_uri>/<method_path>/<additional_qualifier>` 


    Base URI to access the API is `https://api.uds.app/partner/v2`. 


    ### Request Headers 


    There are several headers which shall be placed on each request in order to
    meet transportation infrastructure requirements. 


    |Name|Format (Data Type)|Description| 

    |--- |--- |--- | 

    |Common Headers||| 

    |Accept|MIME Type|should be application/json| 

    |Accept-Charset|String|should be utf-8| 

    |Content-Type|MIME Type|should be application/json; applicable for POST
    method| 

    |Custom Headers||| 

    |X-Origin-Request-Id|UUID|identifier of the request used by the application;
    may be omitted, but it's recommended to use it| 

    |X-Request-Id|UUID|identifier of the request used by the Partner API| 

    |X-Timestamp|ISO 8601 Date|date and time when request was originated| 


    ### Data Types 


    There are special notices regarding data types used by Partner API. Please
    consider these notices as requirements since not following them may result
    in lack of functionality, errors or unpredictable behavior. 


    #### Numbers and Rounding 


    All numbers given to API **must** be rounded off to two decimal places by
    the [round half
    up](https://docs.oracle.com/javase/8/docs/api/java/math/RoundingMode.html#HALF_UP)
    method. All responses from the server shall also follow this rule; so every
    field which is calculated on the server side will have not more than two
    decimal digits and the number will be rounded off by the "half up" method.
    When passing `points`, the value can be rounded only down. 


    #### UUID 


    Partner API uses UUID 4 (or similar) to distinguish each request sent by the
    application. Clients should set headers `X-Origin-Request-Id` in requests
    and log (if possible) `X-Request-Id` set by the server in order to simplify
    debugging and to get proper support in case of errors. It should be
    guaranteed that there will be no duplication in these identifiers at least
    during a reasonable time period. At least this identifier shall not be
    reused for further requests. 


    #### Timestamps and dates 


    For any timestamp or date in Partner API [ISO
    8601](https://en.wikipedia.org/wiki/ISO_8601) format is used. 


    Where timestamps are used: 

    * `X-Timestamp` header 

    * `dateCreated` field for transaction 

    * other headers or fields having explicit declaration of `Date` or `ISO 8601
    Date` types. 


    ### Making Requests 


    Clients should set headers `X-Origin-Request-Id` with UUID value and
    `X-Timestamp` with ISO-8601 timestamp value to all requests. 

    In response, the server generates and sets new UUID to `X-Request-Id` and
    timestamp to `X-Timestamp` headers. If the request contains
    `X-Origin-Request-Id` header, the server sets it to response. 


    **Example:** 


    ``` 

    X-Origin-request-Id: 8c828ee7-e7b2-4631-a3e4-b18987962556 

    X-Timestamp: 2016-07-08T13:17:39,245+00:00 

    ``` 



    ### Response Codes and Errors 


    Partner API uses standard HTTP status codes in order to specify whether the
    request was successful or not. Some responses may also contain `errorCode`
    field which contains a detailed explanation of the error occurred. It is
    expected that all requests resulted in 4xx (client-side error) response
    status will not be retried until the source of the error is found. 


    #### Response Codes 


    |Response code|Description| 

    |--- |--- | 

    |`200`|Okay. API call was successful| 

    |`400`|Validation error or business logic error has occurred| 

    |`401`|API key or company id are incorrect| 

    |`403`|Access denied, given authentication token is not set or has
    insufficient permissions| 

    |`404`|Either requested object or requested api-method or path does not
    exist| 


    #### Error object 


    When API-method call results in an error, response will contain JSON error
    object. 

    For most of all error responses this object has the following scheme: 


    ```json 

    { 
      "errorCode": "<Short code for given error>",       // string 
      "message": "<Human readable error description>"    // string 
    } 

    ``` 


    > **Tip:** Language for error description depends on `Accept-Language`
    HTTP-header. 


    There is a special error code for form validation errors - `badRequest`. If
    error object has that error code, response also would contain `errors`
    property with the following scheme: 


    ```json 

    { 
      "errorCode": "badRequest",                         // string 
      "message": "<Error description>",                  // string 
      "errors": [                                        // array 
        { 
          "errorCode": "nullalbe",                       // string 
          "message": "Property [points] cannot be null", // string 
          "field": "points",                             // string, optional 
          "value": null                                  // string, optional 
        }, 
        ... 
      ] 
    } 

    ``` 


    #### Common Error Codes 


    |Error Code|Description| 

    |--- |--- | 

    |forbidden|Access denied, given authentication token is not set or has
    insufficient permissions| 

    |notFound|An object is not found. Where the object refers to a customer or
    promo-code.| 

    |badRequest|Form validation errors have occurred. For example, it can be
    type-mismatch or constraint violation errors.| 


    #### Method specific error codes 


    Each API-method call can produce errors which are specific for this method.
    For details about those errors please refer to the method description
    provided in each API path. 


    ## Standard integration scenario 


    1. Customer downloads the UDS App ([App
    Store](https://apps.apple.com/ru/app/game-united-discount-system/id954809132),
    [Google
    Play](https://play.google.com/store/apps/details?id=com.setinbox.game), [App
    Gallery](https://appgallery.huawei.com/#/app/C101533881)). 

    2. Customer shows a promo code from the app to a cashier. 

    3. Cashier registers this code and information on the customer is displayed
    (first name, last name, the balance of points). 

    4. Cashier enters the number of points to be deducted, 1 point = 1 currency
    unit. 

    5. Total bill amount is reduced by the number of deducted points. For
    example, the amount payable is 100, 30 points to be deducted and 70 currency
    units are to be paid in total. 

    6. When the payment is completed, information on this transaction would be
    sent to UDS. 

    7. If for some reason the check was made without using UDS, then print a
    [voucher](https://docs.uds.app/#tag/Operations/paths/~1operations~1voucher/post)
    for the customer to get bonuses after the purchase. 


    A detailed description of called methods. 


    ### Requirements 

    * API key (token) and company id used for integration with POS system shall
    not be hardcoded. I.e., when setting up the integration module, it should be
    possible to register API key and id in some configuration file (config),
    because they are different for each company. 


    **Warning!** 


    ``` 

    If error 401 unauthorized is returned when sending requests, API key or
    company id are incorrect.  

    ``` 


    * The integration module shall be accompanied by documentation on how to
    configure this module so that any cash processing specialist can do this. 


    ### Estimated business process of POS system with implemented integration
    with UDS 


    1. When the final bill for payment is issued, it should be possible to enter
    the payment code (from UDS App) or the customer's phone number in the
    international format +79992221133, and scan QR codes.  


    2. When the code or phone number is entered, information on the customer is
    displayed (“customer search” request, see request [Find
    customer](https://docs.uds.app/#tag/Customers/paths/~1customers~1find/get)) 


    **Request example** 


    ``` 

    curl -H 'Accept: application/json' \ 
           -H "X-Origin-Request-Id: $(uuidgen)" \ 
           -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \ 
           -u "<companyId>:<api_key>" 
           -X GET -s https://api.uds.app/partner/v2/customers/find?code=456123&exchangeCode=true&total=1000 
    ``` 

    Where `code` is a payment code from the UDS app, `total` is initial bill
    amount (not including discounts and deducted points). 


    **Response, main fields** 

    * `uid` - user id (`uid` may be also used for finding a user and for
    payments), 

    * `displayName` - first name and last name, 

    * `discountRate` - discount rate, 

    * `points` - number of points, 

    * `maxPoints` - number of points to be deducted, 

    * `code` - payment code for the next transaction (of this user) 


    If the phone number is entered and information on the customer does not
    appear (notFound error), it means that this customer is not registered in
    UDS. In this case, it is necessary to enter the phone number when completing
    the order (see request [Create
    transaction](https://docs.uds.app/#tag/Operations/paths/~1operations/post)):
    UDS allows conducting transactions with unregistered phone numbers. 


    3. Discount in the rate of `discountRate` is applied to the order. If
    `discountRate` = 0, it means that a customer would be rewarded with points
    and discount is not necessary. 


    4. Number of points to be deducted is specified. Points can be deducted by
    entering the code from the application. Deduction by a phone number is
    possible only if the corresponding setting is active in the company.
    Deduction by a `uid` is not provided, points can be accumulated by uid. 


    5. The total bill amount is reduced by the applied discount (if the discount
    is selected instead of cashback in the company settings) and the number of
    points to be deducted. 


    6. When the “Proceed to payment” button is clicked on (order completion),
    the transaction is directed to UDS (see request [Create
    transaction](https://docs.uds.app/#tag/Operations/paths/~1operations/post)). 


    **Request example** 


    ``` 

    curl -H "accept: application/json" \ 
           -H "Content-Type: application/json" \ 
           -H "X-Origin-Request-Id: $(uuidgen)" \ 
           -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \ 
           -u "<companyId>:<api_key>" 
           -d '{ \ 
                  "code":"string", \ 
                  "nonce":"string", \ 
                  "cashier": { \ 
                         "externalId":"string", \ 
                         "name":"string" \ 
                  }, \ 
                  "receipt": { \ 
                         "total":100.0, \ 
                         "cash":50.0, \ 
                         "points":50.0, \ 
                         "number":"string" \ 
                  } \ 
           }' -X POST https://api.uds.app/partner/v2/operations 
    ``` 

    The **Transaction execution** request contains the following parameters: 


    * `code` (code for transaction performance, from the response to **Customer
    search** request) or phone (phone number in the international format
    starting with +7); 

    * `total` (initial bill amount); 

    If there are outside discounts, `total` shall be calculated as follows:
    `total = initial bill amount - (outside discount* initial bill amount)`. 

    If the order contains items that shall not be considered in the UDS system
    (i.e. items to that discounts are not applied), the total shall be
    calculated as follows: `total = initial bill amount - the price of excluded
    items`; 


    * `points` (number of points deducted from the customer’s balance); 


    * `cash` (amount paid with money: credit card, cash or mixed); 


    * `externalId` and `name` - id and name of the cashier executing the
    transaction. It can be id or phone number of the employee in the POS
    system; 


    * `number` (bill number in the POS system); 


    If the error occurs in UDS, it’s not allowed to conduct payment in the
    accounting system until corrections are made / error is eliminated and the
    repeated request is sent. Thus, payment is allowed only if “success” request
    is received. Possible errors are described below. 


    **Warning!** 


    ``` 

    Deducted points shall not be considered as profit, so they shall be free of
    taxes. 

    ``` 


    7. If the error during payment/completion of the order occurs in UDS, the
    following shall be indicated in the interface of the accounting system: 


    |Status|Error code|Description| 

    |--- |--- |--- | 

    |`400`|badRequest|Form validation errors occurred. Please contact developers
    of the accounting system| 

    |`400`|invalidChecksum|Please delete outside discounts from the order| 

    |`400`|insufficientFunds|Insufficient points in the customer’s balance.
    Please make corrections| 

    |`400`|discountLimitExceed|Limit of the maximum number of points to be
    deducted as per the marketing policy reached. Please make corrections| 

    |`401`|unauthorized|API key or company id are incorrect| 

    |`404`|notFound|Invalid customer code or code expired. Please enter a new
    code| 


    8. Implement the possibility to cancel payment, i.e. transaction shall be
    cancelled both in the accounting system and in UDS. Request [POST 
    /operations/{id}/refund](#tag/Operations/paths/~1operations~1{id}~1refund/post)
    , where: 

    * `id` - `id` of UDS transaction, the value of which is returned with the
    response after successful completion of the transaction. 

    * `partialAmount` - amount to be cancelled. Parameter `partialAmount` shall
    be indicated in this request for partial cancellation, otherwise, a full
    refund would take place. 


    **Request example** 


    ``` 

    curl -H "accept: application/json" \ 
           -H "Content-Type: application/json" \ 
           -H "X-Origin-Request-Id: $(uuidgen)" \ 
           -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \ 
           -u "<companyId>:<api_key>" \ 
           -d '{"partialAmount":100.0}' \ 
           -X POST https://api.uds.app/partner/v2/operations/<id>/refund 
    ```
servers:
  - url: 'https://api.uds.app/partner/v2'
    description: API server.
security:
  - Basic: []
tags:
  - name: Settings
    description: Company settings
    x-displayName: Settings
  - name: Operations
    description: Transactions API
    x-displayName: Transactions
  - name: Customers
    description: Customers API
    x-displayName: Customers
  - name: Webhooks
    x-displayName: Webhooks
    description: >-
      Webhooks provide with a way for notifications to be delivered to an
      external web server whenever certain actions occur within UDS company. 


      You can configure a webhook to execute whenever: 

      * New transaction is created; 

      * New customer is registered in company; 

      * New order is created.
  - name: Goods
    description: Items API
    x-displayName: Items
  - name: Goods Order
    description: Orders API
    x-displayName: Orders
  - name: Image uploading
    description: >-
      Image uploading API.  


      1. Submit a request to upload the image. 


      2. From the received response, upload the image from the `url` link using
      `method` and `headers` from the response.  


      3. When images are uploaded, create or update the item information by
      passing the list of identifiers of item images `imageId` in the `photos`
      parameter. 


      *  When uploading an image, specify `Content-Type: image/jpeg` in
      `headers` and other headers specified in the response when requesting the
      link to upload the image. 


      *  Paragraphs 1 - 2 can be performed several times to upload several item
      images, i.e. a list of image identifiers is formed (maximum 5 photos for
      one item). 


      *  If you pass an empty `photos: []` list in the `data` object when
      updating item information, all item images will be deleted.
    x-displayName: Image uploading
  - name: Tags
    description: Company tags API.
    x-displayName: Tags
  - name: FAQ
    description: >2-
       


      ## Frequently asked questions  


      ### Where can I get a customer's code (QR code) for making payments?  


      * Install the UDS App ([App
      Store](https://apps.apple.com/ru/app/game-united-discount-system/id954809132), 
      [Google
      Play](https://play.google.com/store/apps/details?id=com.setinbox.game),
      [App Gallery](https://appgallery.huawei.com/#/app/C101533881))  and sign
      up. To generate a code, click on the card in the application.  


      ### What is the lifetime of a code?  


      * The code lifetime is 45 minutes. Its validity is terminated before time
      when it is used for a transaction.  


      ### How do I get a code with an extended lifetime?  


      * Upon the [customer ->
      find](https://docs.uds.app/#tag/Customers/paths/~1customers~1find/get),
      add the `exchangeCode=true` parameter. Then a long code will be sent in
      the response with information about the customer and will be displayed in
      the `code` field. Using this code you can deduct points within 24 hours.  


      ### How can I get test access to the API?  


      * Email us at [support@uds.app](mailto:support@uds.app) to get test
      access.  


      ### Where can I find API Key and company ID?  


      * Copy Company ID and API Key in the
      [Integration](https://admin.uds.app/admin/options/integration) section in
      the UDS Business settings.  


      ### Can one API Key and Company ID be used at multiple sales registers?  


      * Each company has only one data for integration with UDS, therefore, one
      API Key and company ID are indicated at all sales registers.
      Identification by sales registers/branches/employees is carried out by
      passing parameters into the `cashier` field.  


      ### Can I change the percentage of points credited for customer purchases
      via API?  


      * No, the accrual of bonus points depends on the `cash` parameter and the
      bonus program settings of the company. To limit the accrual of points,
      pass the `skipLoyaltyTotal` parameter – the bill amount to which bonus
      points should not be credited.  


      ### Can I deduct bonus points by a customer UID?  


      * No, bonus points can only be deducted by a customer `code`. Deduction by
      a phone number is possible only if the corresponding setting is active in
      the company.  


      ### What is an external employee ID?  


      * To identify the employee who made the transaction using UDS, it is
      necessary to pass the employee's individual number – its identifier. This
      identifier can be set in UDS Business for each employee in the
      corresponding field – External identifier.  


      ### How to configure a webhook?  


      * The webhook is configured in the
      [Integration](https://admin.uds.app/admin/options/integration) section in
      the UDS Business settings. To get notifications of certain events, specify
      the address of your server where the webhook will be sent.  


      ### Why do I get several webhooks with the same information?  


      * A webhook is sent three times with an interval of 5 minutes if for some
      reason it was not delivered or if the `200` response was not received
      within 5 seconds.  



      ## List of errors returned by api 


      ###  


      ### Errors 

      Status | Error Code | Description 

      ------ | ---------- | ----------- 
       `400` | badRequest | Form validation errors occurred. See JSON `errors` property for detailed information about errors. 
       `400` |invalidChecksum| Given `total`, `cash` and `points` fields don't correlate with company marketing settings in UDS. 
       `400` |withdrawNotPermitted| Method was called with `participant → uid` parameter field doesn't equal to `0.0`. 
       `400` |insufficientFunds| Given `points` value is greater than actual customer balance of points. 
       `400` |discountLimitExceed| Given `points/total` rate is more than allowed by marketing settings. 
       `400` |purchaseByPhoneDisabled| Trying to make purchase by phone number when it is disabled in company settings.  
       `400` |participantIsBlocked|Customer is blocked.  
       `400` | goods.nodeIndex.invalid| Specification of the identifier `nodeId` to create a category is not allowed  
       `400` |goods.limitIsReached|Quantity limit exceeded  
       `401` |unauthorized|API key or company id are incorrect.|  
       `404` |notFound| Customer with given code or ID is not found.| 


      ## List of recent changes  
       This section lists changes and extensions for existing methods, as well as new methods.  

      ### 2025-09-22  


      * Added new `offerPrice`, `skipLoyalty` objects to the 
      [order](https://docs.uds.app/#tag/Goods-Order) and [new
      order](https://docs.uds.app/#tag/Webhooks/paths/~1api~1v2~1events~1goods-order/post)
      webhook.  


      ### 2025-07-21  


      * Added new `usePointsByPhone` object to the
      [settings](https://docs.uds.app/#tag/Settings) model.  


      ### 2025-02-03  


      * Added new methods for
      [get](https://docs.uds.app/#tag/Goods/paths/~1goods~1external~1{externalId}/get),
      [update](https://docs.uds.app/#tag/Goods/paths/~1goods~1external~1{externalId}/put)
      and
      [delete](https://docs.uds.app/#tag/Goods/paths/~1goods~1external~1{externalId}/delete)
      a goods by external identifier in the company. 


      ### 2024-08-26  


      * Added new `cashSpent`, `savedFunds`, `invitedCount`,
      `effectiveInvitedCount`, `operationsCount`,  `fullRefundsCount`, `note`,
      `pointsExpireIn` objects to the
      [customer](https://docs.uds.app/#tag/Customers) model.  


      ### 2024-06-24  


      * Added new `certificatePoints` object to the
      [operation](https://docs.uds.app/#tag/Operations)  


      ### 2024-03-11  


      * Added new `nodeId` object to the
      [item](https://docs.uds.app/#tag/Goods)  


      ### 2024-02-19  


      * Added a new method [to cancel an order in the
      company](https://docs.uds.app/#tag/Goods-Order/paths/~1goods-orders~1{id}~1cancel/post).  


      * Added a new method [for changing order
      status](https://docs.uds.app/#tag/Goods-Order/paths/~1goods-orders~1{id}~change-satus/post). 


      * A new `orderStatus` object has been added to the
      [order](https://docs.uds.app/#tag/Goods-Order).   


      ### 2023-10-09  


      * Added new `vatCode` and `paymentSubject` objects to the
      [item](https://docs.uds.app/#tag/Goods) model to specify and obtain
      information on item vat (`NO_NDS`, `NDS_0`, `NDS_10`, `NDS_20`,
      `NDS_10_110`, `NDS_20_120`) and type of payment subject (`COMMODITY`,
      `EXCISE`, `SERVICE`). 


      ### 2023-04-24 


      * A new `unredeemableTotal` object has been added to the [find
      customer](https://docs.uds.app/#tag/Customers/paths/~1customers~1find/get),
      [operations](https://docs.uds.app/#tag/Operations/paths/~1operations/post)
      and
      [calc](https://docs.uds.app/#tag/Operations/paths/~1operations~1calc/post).  


      * A new `maxScoresDiscount`, `certificatePoints` objects has been added to
      the
      [PurchaseCalc](https://docs.uds.app/#tag/Operations/paths/~1operations~1calc/post)
      model.  


      ### 2022-07-18 


      * A new `maxScoresDiscount` object has been added to the
      [customer](https://docs.uds.app/#tag/Customers) model.  


      ### 2022-04-25 


      * Added new methods for [getting lists of tags in a
      company](https://docs.uds.app/#tag/Tags/paths/~1tags/get),
      [getting](https://docs.uds.app/#tag/Customers/paths/~1customers~1{id}~1tags/get)
      and
      [setting](https://docs.uds.app/#tag/Customers/paths/~1customers~1{id}~1tags/post)
      tags to a customer.  


      * A new `tags` object has been added to the
      [customer](https://docs.uds.app/#tag/Customers) model and to the
      [operations](https://docs.uds.app/#tag/Operations/paths/~1operations/post)
      model.  


      ### 2022-04-11 


      * Added new `measurement`, `minQuantity` and `increment` objects to the
      [goods](https://docs.uds.app/#tag/Goods) model to allow receiving and
      creating items with different units of measure and minimum order
      quantity.  


      ### 2022-03-28  


      * Added new `email` object to the
      [customer](https://docs.uds.app/#tag/Customers) model.  


      ### 2021-11-29  


      * Added new `channelName` object to the
      [customer](https://docs.uds.app/#tag/Customers) model to obtain the name
      of the traffic source through which the customer joined the company. 


      ### 2021-09-21  


      * Added new `photos` and `imageUrls` objects to the
      [item](https://docs.uds.app/#tag/Goods) model to specify and obtain
      information on item images.  


      * Added a new `image-upload-url` method to get a link to upload an item
      image. Get the link to upload the image, load the image by url from the
      response in the `url` parameter, and after uploading, create or update the
      item information by passing the list of identifiers of item images
      `imageId` in the `photos` parameter. 


      ### 2021-08-23  


      * Added a new `inventory` object with `inStock` nesting to the
      [item](https://docs.uds.app/#tag/Goods) unit to specify stock balance and
      get information on it. 


      * Added a new `cursor` parameter to replace the `offset` parameter for
      pagination of the list of transactions. To obtain the [list of
      transactions](https://docs.uds.app/#tag/Operations/paths/~1operations/get),
      it is necessary to make the first request without specifying the `cursor`
      parameter, then make the next request specifying a returned `cursor` value
      for the previous request. If there is `cursor = null` in the response,
      there is no further data on transactions. 


      ### 2021-07-12  


      * Added a new method of obtaining a
      [voucher](https://docs.uds.app/#tag/Operations/paths/~1operations~1voucher/post)
      for accrual of points. The method allows printing the voucher code (QR
      code) on the bill and scanning it in UDS App customers can receive points
      for the purchase. 


      * To optimize the request speed for obtaining the [list of
      transactions](https://docs.uds.app/#tag/Operations/paths/~1operations/get),
      `0` is always indicated in `total`. 


      ### 2021-02-08  


      * Added a new `silent` object for [reward
      points](https://docs.uds.app/#tag/Operations/paths/~1operations~1reward/post)
      to customers. If `silent = True` is passed, a push notification will not
      be sent to customers.
    x-displayName: FAQ
paths:
  /settings:
    get:
      summary: Get company settings
      tags:
        - Settings
      description: >-
        Acquisition of company settings, marketing settings and promo code for
        invitations.  

        Marketing settings can be configured in [UDS
        Business](https://admin.uds.app/admin/options/loyalty-program/bonus).
      x-codeSamples:
        - lang: curl
          source: |
            curl -H 'Accept: application/json' \
                 -H "X-Origin-Request-Id: $(uuidgen)" \
                 -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
                 -u "<companyId>:<api_key>"
                 -X GET -s https://api.uds.app/partner/v2/settings
        - lang: PHP
          source: >
            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/settings";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'GET',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='GET',
                url='/partner/v2/settings',
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/settings',
              'method': 'GET',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.end();
      parameters:
        - $ref: '#/components/parameters/x-request-id'
        - $ref: '#/components/parameters/x-timestamp'
      responses:
        '200':
          description: Settings.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CompanySettings'
  /customers:
    get:
      summary: List of customers
      tags:
        - Customers
      description: Generation of a list of company users.
      x-codeSamples:
        - lang: curl
          source: |
            curl -H 'Accept: application/json' \
                 -H "X-Origin-Request-Id: $(uuidgen)" \
                 -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
                 -u "<companyId>:<api_key>"
                 -X GET -s https://api.uds.app/partner/v2/customers?max=10&offset=0
        - lang: PHP
          source: >
            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/customers?max=10&offset=0";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'GET',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='GET',
                url='/partner/v2/customers?max=10&offset=0',
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/customers?max=10&offset=0',
              'method': 'GET',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.end();
      parameters:
        - $ref: '#/components/parameters/max'
        - $ref: '#/components/parameters/offset'
        - $ref: '#/components/parameters/cursor'
      responses:
        '200':
          description: Customers.
          content:
            application/json:
              schema:
                type: object
                properties:
                  rows:
                    type: array
                    description: Customers information.
                    items:
                      $ref: '#/components/schemas/Customer'
  /customers/find:
    get:
      summary: Find customer
      tags:
        - Customers
      description: >-
        Search of the customer either by payment code, phone number or UID. Only
        one of the parameters needs to be sent: code, phone number or UID.
      x-codeSamples:
        - lang: curl
          source: |
            curl -H 'Accept: application/json' \
                 -H "X-Origin-Request-Id: $(uuidgen)" \
                 -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
                 -u "<companyId>:<api_key>"
                 -X GET -s https://api.uds.app/partner/v2/customers/find?code=456123&phone=%2b71234567898&uid=23684cea-ca50-4c5c-b399-eb473e85b5ad
        - lang: PHP
          source: >
            $date = new DateTime();

            $url =
            "https://api.uds.app/partner/v2/customers/find?code=456123&phone=%2b71234567898&uid=23684cea-ca50-4c5c-b399-eb473e85b5ad";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'GET',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='GET',
                url='/partner/v2/customers/find?code=456123&phone=%2b71234567898&uid=23684cea-ca50-4c5c-b399-eb473e85b5ad',
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/customers/find?code=456123&phone=%2b71234567898&uid=23684cea-ca50-4c5c-b399-eb473e85b5ad',
              'method': 'GET',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.end();
      parameters:
        - name: code
          in: query
          schema:
            type: string
          description: Payment code.
        - name: phone
          in: query
          schema:
            type: string
          description: >-
            Phone number in E164 format in url encoded, for example,
            +79123456789 need to send as %2b79123456789.
        - name: uid
          in: query
          schema:
            type: string
          description: Customer UID in the UDS.
        - name: exchangeCode
          in: query
          schema:
            type: boolean
          description: >-
            Exchange existing payment promo code (if present in query) to a new
            long-term one.
        - name: total
          in: query
          description: Total bill amount (in currency units).
          schema:
            type: number
        - name: skipLoyaltyTotal
          in: query
          description: >-
            A part of the bill amount for which cashback is not credited and to
            which the discount does not apply (in currency units).
          schema:
            type: number
        - name: unredeemableTotal
          in: query
          description: A part of total that cannot be redeemed with points.
          schema:
            type: number
      responses:
        '200':
          description: Customer.
          content:
            application/json:
              schema:
                properties:
                  user:
                    $ref: '#/components/schemas/CustomerDetail'
                  code:
                    type: string
                    description: 'New long-term payment promo code, if exchangeCode queried.'
                    nullable: true
                  type:
                    $ref: '#/components/schemas/PurchaseTokenAction'
                  purchase:
                    type: object
                    nullable: true
                    allOf:
                      - $ref: '#/components/schemas/PurchaseCalc'
        '404':
          $ref: '#/components/responses/NotFound'
  '/customers/{id}':
    parameters:
      - $ref: '#/components/parameters/id'
    get:
      summary: Get customer information
      tags:
        - Customers
      description: Get customer information.
      x-codeSamples:
        - lang: curl
          source: |
            curl -H 'Accept: application/json' \
                 -H "X-Origin-Request-Id: $(uuidgen)" \
                 -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
                 -u "<companyId>:<api_key>"
                 -X GET -s https://api.uds.app/partner/v2/customers/<id>
        - lang: PHP
          source: >
            $date = new DateTime();

            $customerId = 123;

            $url = "https://api.uds.app/partner/v2/customers/".$customerId;

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'GET',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            customerId = 123
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='GET',
                url='/partner/v2/customers/' + customerId,
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';
            var customerId = 123;

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/customers/' + customerId,
              'method': 'GET',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.end();
      responses:
        '200':
          description: Customer.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerDetail'
        '404':
          $ref: '#/components/responses/NotFound'
  '/customers/{id}/tags':
    parameters:
      - $ref: '#/components/parameters/id'
    get:
      summary: Customer tags
      tags:
        - Customers
      description: Request list of customer tags by customer ID.
      x-codeSamples:
        - lang: curl
          source: |
            curl -H 'Accept: application/json' \
                 -H "X-Origin-Request-Id: $(uuidgen)" \
                 -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
                 -u "<companyId>:<api_key>"
                 -X GET -s https://api.uds.app/partner/v2/customers/<id>/tags
        - lang: PHP
          source: >
            $date = new DateTime();

            $customerId = 123;

            $url =
            "https://api.uds.app/partner/v2/customers/".$customerId."/tags";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'GET',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            customerId = 123
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='GET',
                url='/partner/v2/customers/' + customerId + '/tags',
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';
            var customerId = 123;

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/customers/' + customerId + '/tags',
              'method': 'GET',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.end();
      responses:
        '200':
          description: List of customer tags.
          content:
            application/json:
              schema:
                type: object
                properties:
                  rows:
                    type: array
                    items:
                      $ref: '#/components/schemas/TagModel'
                    description: List of tags.
                  total:
                    type: integer
                    description: Tags total count.
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      summary: Set customer tags
      tags:
        - Customers
      description: Set customer tags with the list of company tags ids.
      x-codeSamples:
        - lang: curl
          source: >
            curl -H "accept: application/json" \

            -H "Content-Type: application/json" \

            -H "X-Origin-Request-Id: $(uuidgen)" \

            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \

            -u "<companyId>:<api_key>"

            -d '{"ids": [1, 2, 3]}' -X POST
            "https://api.uds.app/partner/v2/customers/<id>/tags"
        - lang: PHP
          source: >
            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/customers/<id>/tags";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Set request body


            $postData = json_encode(
              array("ids", array(1, 2, 3))  // ids of tags
            );


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'POST',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $postData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='POST',
                url='/partner/v2/customers/<id>/tags',
                body=json.dumps({'ids': [1, 2, 3]}),
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Content-Type': 'application/json',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/customers/<id>/tags',
              'method': 'POST',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Content-Type': 'application/json',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var data = JSON.stringify({'ids': [1, 2, 3]});

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.write(data);
            req.end();
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                ids:
                  description: List of company tags ids to be set to customer.
                  type: array
                  items:
                    $ref: '#/components/schemas/TagId'
              required:
                - ids
      responses:
        '200':
          description: List of customer tags.
          content:
            application/json:
              schema:
                type: object
                properties:
                  rows:
                    description: List of tags.
                    type: array
                    items:
                      $ref: '#/components/schemas/TagModel'
                  total:
                    type: integer
                    description: Tags total count.
        '404':
          $ref: '#/components/responses/NotFound'
  /operations:
    get:
      summary: List of transactions
      tags:
        - Operations
      description: Fetches list of company transactions.
      x-codeSamples:
        - lang: curl
          source: |
            curl -H 'Accept: application/json' \
            -H "X-Origin-Request-Id: $(uuidgen)" \
            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
            -u "<companyId>:<api_key>"
            -X GET -s https://api.uds.app/partner/v2/operations?max=10
        - lang: PHP
          source: >
            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/operations?max=10";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'GET',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );



            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='GET',
                url='/partner/v2/operations?max=10',
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/operations?max=10',
              'method': 'GET',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.end();
      parameters:
        - $ref: '#/components/parameters/max'
        - name: offset
          in: query
          description: Paginate results by given offset. Deprecated. Use cursor instead
          deprecated: true
          schema:
            type: integer
            default: 0
            maximum: 10000
        - $ref: '#/components/parameters/cursor'
      responses:
        '200':
          description: List of transactions.
          content:
            application/json:
              schema:
                type: object
                properties:
                  rows:
                    $ref: '#/components/schemas/Operation'
                  total:
                    deprecated: true
                    type: integer
                  cursor:
                    description: Use this cursor for next request
                    type: string
    post:
      summary: Create transaction
      tags:
        - Operations
      description: >-
        Transaction execution in UDS. Upon successful completion, the
        transaction will be displayed in the transaction history in UDS, and the
        administrator and user will receive a push notification of the
        purchase. 


        ### Marketing policy 


        It depends on the policy chosen by the company (`baseDiscountPolicy`
        field) in the company settings. Two values are possible: 


        * `APPLY_DISCOUNT` — discount application to the bill amount: it allows
        the user to receive a discount in currency units, when the transaction
        is completed, in the amount indicated in `participant.discountRate`
        field in the user information;

        * `CHARGE_SCORES` — accrual of points. When the transaction is
        conducted, the user receives points in the amount specified in
        `participant.cashbackRate` field in the user information. 


        ### Key aspects 

        * Fields `total` and `points` shall come from user input but `cash`
        field shall be calculated using POST `/operations/calc`; 

        * User may be identified with either payment code passed in parameter
        `code` or with user uid in parameter `participant → uid` 
          or by user's phone number in parameter `participant → phone`; 
          Difference between them is that with `participant → uid` is not permitted to redeem points; 
          If given parameter is `participant → uid` then `points` shall be equal to `0.0`; 
          Otherwise an error will occur with code `withdrawNotPermitted`; 

        * Only one of the parameters needs to be sent: `code`, `phone number` or
        `UID`. ; 

        * All numbers shall be rounded off to two decimal places as per the
        "round half up" method; 

        * `cash`, `points` and `total` fields MUST correlate with marketing
        settings in UDS; 

        * A `nonce` is an arbitrary number that can only be used once. It shall
        be used for purchase by phone number. 

        * The `externalId` field is an id of the cashier performing the
        transaction. It should consist of Latin letters, numbers and symbols
        like `_`, `-`. 

        * If a cash register transmits information about the cashier who
        performed the transaction, to view detailed information about the
        cashier, enable the "Employees" module.   


        ### Errors 

        Status | Error Code | Description 

        ------ | ---------- | ----------- 
         `400` | badRequest | Form validation errors occurred. See JSON `errors` property for detailed information about errors. 
         `400` |invalidChecksum| Given `total`, `cash` and `points` fields don't correlate with company marketing settings in UDS. 
         `400 `|withdrawNotPermitted| Method was called with `participant → uid` parameter field doesn't equal to `0.0`. 
         `400` |insufficientFunds| Given `points` value is greater than actual customer balance of points. 
         `400` |discountLimitExceed| Given `points/total` rate is more than allowed by marketing settings. 
         `400` |purchaseByPhoneDisabled| Trying to make purchase by phone number when it is disabled in company settings.| 
         `401`|unauthorized|API key or company id are incorrect.| 
         `404` |notFound| Customer with given code or ID is not found.|
      x-codeSamples:
        - lang: curl
          source: |
            curl -H "accept: application/json" \
            -H "Content-Type: application/json" \
            -H "X-Origin-Request-Id: $(uuidgen)" \
            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
            -u "<companyId>:<api_key>"
            -d '{ \
              "code":"string", \
              "participant":{ \
                "uid":"string", \
                "phone":"string" \
              }, \
              "nonce":"string", \
              "cashier":{ \
                "externalId":"string", \
                "name":"string" \
              }, \
              "receipt":{ \
                "total":100.0, \
                "cash":50.0, \
                "points":50.0, \
                "number":"string", \
                "skipLoyaltyTotal": 50.0 \
              } \
            }' -X POST "https://api.uds.app/partner/v2/operations"
        - lang: PHP
          source: >
            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/operations";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Set request body


            $postData = json_encode(
              array(
                'code' => 'string',
                'participant' => array(
                  'uid' => 'string',
                  'phone' => 'string'
                ),
                'nonce' => 'string',
                'cashier' => array(
                  'externalId' => 'string',
                  'name' => 'string'
                ),
                'receipt' => array(
                  'total' => 100.0,
                  'cash' => 50.0,
                  'points' => 50.0,
                  'number' => 'string',
                  'skipLoyaltyTotal' => 50.0
                )
              )
            );


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'POST',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $postData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='POST',
                url='/partner/v2/operations',
                body=json.dumps({
                  'code': 'string',
                  'participant': {
                    'uid': 'string',
                    'phone': 'string'
                  },
                  'nonce': 'string',
                  'cashier': {
                    'extrnalId': 'string',
                    'name': 'string'
                  },
                  'receipt': {
                    'total': 100.0,
                    'cash': 50.0,
                    'points': 50.0,
                    'number': 'string',
                    'skipLoyaltyTotal': 50.0
                  }
                }),
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Content-Type': 'application/json',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/operations',
              'method': 'POST',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Content-Type': 'application/json',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var data = JSON.stringify({
              'code': 'string',
              'participant': {
                'uid': 'string',
                'phone': 'string'
              },
              'nonce': 'string',
              'cashier': {
                'extrnalId': 'string',
                'name': 'string'
              },
              'receipt': {
                'total': 100.0,
                'cash': 50.0,
                'points': 50.0,
                'number': 'string',
                'skipLoyaltyTotal': 50.0
              }
            });

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.write(data);
            req.end();
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOperation'
      responses:
        '200':
          description: Transaction.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Operation'
              example:
                id: 1
                dateCreated: '2018-09-21T07:48:22.771Z'
                action: PURCHASE
                state: NORMAL
                customer:
                  id: 0
                  uid: abcdefgh-0000-1111-2222-ijklmnopqrst
                  displayName: Customer
                  membershipTier:
                    uid: vip
                    name: VIP
                    rate: 15
                    conditions:
                      totalCashSpent:
                        target: 100
                cashier:
                  id: 0
                  displayName: Cashier
                branch:
                  id: 0
                  displayName: Branch
                points: 0
                certificatePoints: 0
                cash: 100
                total: 100
                origin:
                  id: 0
  '/operations/{id}':
    parameters:
      - $ref: '#/components/parameters/id'
    get:
      summary: Get transaction information
      tags:
        - Operations
      description: Get transaction information.
      x-codeSamples:
        - lang: curl
          source: |
            curl -H 'Accept: application/json' \
                 -H "X-Origin-Request-Id: $(uuidgen)" \
                 -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
                 -u "<companyId>:<api_key>"
                 -X GET -s https://api.uds.app/partner/v2/operations/<id>
        - lang: PHP
          source: >
            $date = new DateTime();

            $customerId = 123;

            $url = "https://api.uds.app/partner/v2/operations/".$customerId;

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'GET',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );



            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            customerId = 123
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='GET',
                url='/partner/v2/operations/' + customerId,
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';
            var customerId = 123;

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/operations/' + customerId,
              'method': 'GET',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.end();
      responses:
        '200':
          description: Transaction.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Operation'
              example:
                oneOf:
                  - id: 1 (Purchase operation)
                    dateCreated: '2018-09-21T07:48:22.771Z'
                    action: PURCHASE
                    state: NORMAL
                    customer:
                      id: 0
                      uid: abcdefgh-0000-1111-2222-ijklmnopqrst
                      displayName: Customer
                      membershipTier:
                        uid: vip
                        name: VIP
                        rate: 15
                        conditions:
                          totalCashSpent:
                            target: 100
                    cashier:
                      id: 0
                      displayName: Cashier
                    branch:
                      id: 0
                      displayName: Branch
                    points: 0
                    cash: 100
                    total: 100
                    origin:
                      id: 0
  /operations/voucher:
    post:
      summary: Create voucher
      tags:
        - Operations
      description: >-
        Creation of a voucher for an operation in UDS. If successful, you will
        receive information for printing the code and a link to the graphic
        display of the QR code of the voucher on the check. 


        ### Marketing policy 


        A prerequisite for using this functionality is to configure the loyalty
        program module in the settings of the UDS Business administrative panel
        (https://admin.uds.app/). You need to specify `Accrue bonus points` in
        the settings block `Discount method` 


        ### Errors 


        Status | Error Code | Description 

        ------ | ---------- | ----------- 
         `400` | invalidChecksum |  Discount method is not `CHARGE_SCORES` 
         `400` | invalidChecksum |  Company charge scores rate is 0. 
         `400` | invalidChecksum |  Given `total` less then or is equal to `skipLoyaltyTotal`. |
      x-codeSamples:
        - lang: curl
          source: |
            curl -H "accept: application/json" \
            -H "Content-Type: application/json" \
            -H "X-Origin-Request-Id: $(uuidgen)" \
            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
            -u "<companyId>:<api_key>"
            -d '{ \
              "nonce":"string-UUID", \
              "cashier":{ \
                "externalId":"string", \
                "name":"string" \
              }, \
              "receipt":{ \
                "total":100.0, \
                "number":"string", \
                "skipLoyaltyTotal": 50.0 \
              } \
            }' -X POST "https://api.uds.app/partner/v2/operations/voucher"
        - lang: PHP
          source: >
            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/operations/voucher";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Set request body


            $postData = json_encode(
              array(
                'nonce' => 'string-UUID',
                'cashier' => array(
                  'externalId' => 'string',
                  'name' => 'string'
                ),
                'receipt' => array(
                  'total' => 100.0,
                  'number' => 'string',
                  'skipLoyaltyTotal' => 50.0
                )
              )
            );


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'POST',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $postData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='POST',
                url='/partner/v2/operations/voucher',
                body=json.dumps({
                  'nonce': 'string-UUID',
                  'cashier': {
                    'extrnalId': 'string',
                    'name': 'string'
                  },
                  'receipt': {
                    'total': 100.0,
                    'number': 'string',
                    'skipLoyaltyTotal': 50.0
                  }
                }),
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Content-Type': 'application/json',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/operations/voucher',
              'method': 'POST',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Content-Type': 'application/json',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var data = JSON.stringify({
              'nonce': 'string-UUID',
              'cashier': {
                'extrnalId': 'string',
                'name': 'string'
              },
              'receipt': {
                'total': 100.0,
                'number': 'string',
                'skipLoyaltyTotal': 50.0
              }
            });

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.write(data);
            req.end();
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateVoucher'
      responses:
        '200':
          description: Voucher.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VoucherInfo'
  '/operations/{id}/refund':
    parameters:
      - $ref: '#/components/parameters/id'
    post:
      summary: Refund transaction
      tags:
        - Operations
      description: >-
        Refund transaction by its ID. If parameter attribute `partialAmount` is
        set, refund will be partial, otherwise invocation of this method will
        cause full refund.
      x-codeSamples:
        - lang: curl
          source: |
            curl -H "accept: application/json" \
            -H "Content-Type: application/json" \
            -H "X-Origin-Request-Id: $(uuidgen)" \
            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
            -u "<companyId>:<api_key>"
            -d '{ \
              "partialAmount":100.0 \
            }' -X POST "https://api.uds.app/partner/v2/operations/<id>/refund"
        - lang: PHP
          source: >
            $date = new DateTime();

            $operationId = 123;

            $url =
            "https://api.uds.app/partner/v2/operations/".$operationId."/refund";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company


            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Set request body


            $postData = json_encode(
              array(
                'partialAmount' => 100.0
              )
            );


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'POST',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $postData,
                    'ignore_errors' => true
                )
            );



            $context = stream_context_create($opts);



            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            operationId = 123
            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='POST',
                url='/partner/v2/operations/' + operationId + '/refund',
                body=json.dumps({
                  'partialAmount': 100.0
                }),
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Content-Type': 'application/json',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';
            var operationId = 123;

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/operations/' + operationId + '/refund',
              'method': 'POST',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Content-Type': 'application/json',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var data = JSON.stringify({
              'partialAmount': 100.0
            });

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.write(data);
            req.end();
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                partialAmount:
                  type: number
                  nullable: true
                  description: Refund amount.
      responses:
        '200':
          description: OK.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Operation'
  /operations/calc:
    post:
      summary: Calculate transaction information
      tags:
        - Operations
      description: >-
        Information on available points for deduction or discount rate
        (depending on bonus program settings), payable amount after applying
        discounts/rewards and number of points that will be accrued after
        transaction.
      x-codeSamples:
        - lang: curl
          source: |
            curl -H "accept: application/json" \
            -H "Content-Type: application/json" \
            -H "X-Origin-Request-Id: $(uuidgen)" \
            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
            -u "<companyId>:<api_key>"
            -d '{ \
              "code":"string", \
              "participant":{ \
                "uid":"string", \
                "phone":"string" \
              }, \
              "receipt":{ \
                "total":100.0, \
                "points":50.0, \
                "skipLoyaltyTotal": 50.0 \
              } \
            }' -X POST "https://api.uds.app/partner/v2/operations/calc"
        - lang: PHP
          source: >
            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/operations/calc";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Set request body


            $postData = json_encode(
              array(
                'code' => 'string',
                'participant' => array(
                  'uid' => 'string',
                  'phone' => 'string'
                ),
                'receipt' => array(
                  'total' => 100.0,
                  'points' => 50.0,
                  'skipLoyaltyTotal' => 50.0
                )
              )
            );


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'POST',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $postData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='POST',
                url='/partner/v2/operations/calc',
                body=json.dumps({
                  'code': 'string',
                  'participant': {
                    'uid': 'string',
                    'phone': 'string'
                  },
                  'receipt': {
                    'total': 100.0,
                    'points': 50.0,
                    'skipLoyaltyTotal': 50.0
                  }
                }),
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Content-Type': 'application/json',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/operations/calc',
              'method': 'POST',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Content-Type': 'application/json',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var data = JSON.stringify({
              'code': 'string',
              'participant': {
                'uid': 'string',
                'phone': 'string'
              },
              'receipt': {
                'total': 100.0,
                'points': 50.0,
                'skipLoyaltyTotal': 50.0
              }
            });

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.write(data);
            req.end();
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PurchaseCalcRequest'
      responses:
        '200':
          description: Payment information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PurchaseCalcResponse'
  /operations/reward:
    post:
      summary: Rewarding users with points (gift)
      tags:
        - Operations
      description: Rewards are accrued asynchronously separately for each user.
      x-codeSamples:
        - lang: curl
          source: |
            curl -H "accept: application/json" \
            -H "Content-Type: application/json" \
            -H "X-Origin-Request-Id: $(uuidgen)" \
            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
            -u "<companyId>:<api_key>"
            -d '{ \
              "comment":"string", \
              "points":50.0, \
              "participants": [1, 3, 21], \
              "silent": false \
            }' -X POST "https://api.uds.app/partner/v2/operations/reward"
        - lang: PHP
          source: >
            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/operations/reward";

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Set request body


            $postData = json_encode(
              array(
                'comment' => 'string',
                'points' => 50.0,
                'participants' => array(1, 3, 21),
                'silent' => false
              )
            );


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'POST',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $postData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='POST',
                url='/partner/v2/operations/reward',
                body=json.dumps({
                  'code': 'string',
                  'participants': [1, 3, 17],
                  'points': 50.0,
                  'silent': false
                }),
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Content-Type': 'application/json',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/operations/reward',
              'method': 'POST',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Content-Type': 'application/json',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var data = JSON.stringify({
              'code': 'string',
              'participants': [1, 3, 17],
              'points': 50.0,
              'silent': false
            });

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.write(data);
            req.end();
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - points
                - participants
              properties:
                points:
                  type: number
                  description: Number of points.
                comment:
                  type: string
                  nullable: true
                  description: Comment visible for users.
                participants:
                  type: array
                  description: List of users ID in the company.
                  items:
                    type: string
                silent:
                  type: boolean
                  nullable: true
                  description: Do not send push notification to customer (default false).
      responses:
        '202':
          description: Transaction information.
          content:
            application/json:
              schema:
                type: object
                properties:
                  accepted:
                    type: string
                    description: Number of users who will be rewarded with points.
  /api/v2/events/operation:
    parameters:
      - $ref: '#/components/parameters/x-request-id'
      - $ref: '#/components/parameters/x-timestamp'
      - $ref: '#/components/parameters/x-signature'
    post:
      summary: Transaction created
      servers:
        - url: 'https://webhook-server.domain/'
      tags:
        - Webhooks
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Operation'
      security:
        - Webhook: []
      responses:
        '200':
          description: OK.
  /api/v2/events/participant:
    parameters:
      - $ref: '#/components/parameters/x-request-id'
      - $ref: '#/components/parameters/x-timestamp'
      - $ref: '#/components/parameters/x-signature'
    post:
      summary: New customer
      servers:
        - url: 'https://webhook-server.domain/'
      tags:
        - Webhooks
      security:
        - Webhook: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Participant'
      responses:
        '200':
          description: OK.
  /api/v2/events/goods-order:
    parameters:
      - $ref: '#/components/parameters/x-request-id'
      - $ref: '#/components/parameters/x-timestamp'
      - $ref: '#/components/parameters/x-signature'
    post:
      summary: New order
      servers:
        - url: 'https://webhook-server.domain/'
      tags:
        - Webhooks
      security:
        - Webhook: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GoodsOrderDetailed'
      responses:
        '200':
          description: OK.
  /goods:
    description: >-
      The price list might have 3-level categories and each category might have
      20 subcategories
    get:
      tags:
        - Goods
      summary: List of items/categories
      description: List of items
      parameters:
        - $ref: '#/components/parameters/max'
        - $ref: '#/components/parameters/offset'
        - name: nodeId
          description: Filter items by category ID
          in: query
          schema:
            type: integer
      responses:
        '200':
          description: OK.
          content:
            application/json:
              schema:
                properties:
                  rows:
                    type: array
                    description: Goods information.
                    items:
                      $ref: '#/components/schemas/GoodsInfoType'
                  total:
                    type: integer
                    description: Goods amount.
      x-codeSamples:
        - lang: curl
          source: >
            // Get price list starting from the top item

            curl -H 'Accept: application/json' \

            -H "X-Origin-Request-Id: $(uuidgen)" \

            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \

            -u "<companyId>:<api_key>"

            -X GET -s https://api.uds.app/partner/v2/goods?max=10&offset=0

            // Get price list items of the category with id=132

            curl -H 'Accept: application/json' \

            -H "X-Origin-Request-Id: $(uuidgen)" \

            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \

            -u "<companyId>:<api_key>"

            -X GET -s
            https://api.uds.app/partner/v2/goods?max=10&offset=0&nodeId=123
        - lang: PHP
          source: >
            /**
             * Get price list from the top item
            **/


            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/goods?max=10&offset=0";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company


            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'GET',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;


            /**
             * Get price list items of the category with id=132
            **/


            $date = new DateTime();

            $url =
            "https://api.uds.app/partner/v2/goods?max=10&offset=0&nodeId=123";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company


            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'GET',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            # Get price list from the top item

            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection
            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='GET',
                url='/partner/v2/goods?max=10&offset=0',
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()

            # Get price list items of the category with id=132

            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection
            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='GET',
                url='/partner/v2/goods?max=10&offset=0&nodeId=123',
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            /**
             * Get price list items of the category with nodeId=132
            **/

            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods?max=10&offset=0',
              'method': 'GET',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });
            req.end();

            /**
             * Get price list items of the category with id=132
            **/

            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods?max=10&offset=0&nodeId=123',
              'method': 'GET',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });
            req.end();
    post:
      tags:
        - Goods
      summary: Create item/category
      description: >-
        Creation of an item or category in UDS. After successful creation, the
        item will be displayed in the UDS, and the ID of the created category
        can be used to specify 'nodeId' when creating other items, as well as to
        get a list of products. 


        ### Key aspects 

        * The type of the edited object is indicated in the `data.type` field.  

        3 values allowed: 

        - `CATEGORY` - to create a category; 

        - `ITEM` - to create an item; 

        - `VARYING_ITEM` - to create an item with options;  

        * You can create a subcategory within a category (three levels of
        nesting are allowed).  

        * You can create 20 categories in the main list, 20 subcategories for
        each category and 20 subcategories for each subcategory.  

        * To create an item without category, specify the value `null` in the`
        nodeId` field.  

        * To create an item without quantity limit, send the value `null` in
        the` inStock` field.   


        ### Errors 

        |Status|Error code|Description| 

        |--- |--- |--- | 

        | `400` |badRequest|Validation errors occurred. Refer to the `errors`
        field for detailed error information. 

        | `400` | goods.nodeIndex.invalid| Specification of the identifier
        `nodeId` to create a category is not allowed| 

        | `400` |goods.limitIsReached|Quantity limit exceeded| 

        | `401` |unauthorized|API key or company id are incorrect.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GoodsDetailed'
      responses:
        '200':
          description: OK.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoodsDetailed'
      x-codeSamples:
        - lang: curl
          source: >
            // create category 'Clothers'

            curl -H "accept: application/json" \

            -H "Content-Type: application/json" \

            -H "X-Origin-Request-Id: $(uuidgen)" \

            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \

            -u "<companyId>:<api_key>"

            -d '{ \
              "name": "Clothers", \
              "nodeId": null, \
              "externalId": "clothers", \
              "data": {
                "type": "CATEGORY"
              }
            }' -X POST "https://api.uds.app/partner/v2/goods"


            // create goods item without category, but with variants and array
            of photo imageIds, which have been uploaded in advance using
            /image-upload method

            curl -H "accept: application/json" \

            -H "Content-Type: application/json" \

            -H "X-Origin-Request-Id: $(uuidgen)" \

            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \

            -u "<companyId>:<api_key>"

            -d '{ \
              "name": "Apple", \
              "nodeId": null, \
              "externalId": "apple", \
              "data": {
                "type": "VARYING_ITEM",
                "description": "This is an item without category"
                "photos": [
                  "NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ=="
                ],
                "variants": [
                  {
                    "name": "red apple",
                    "price": 100.0,
                    "inventory":
                      {
                      "inStock": 17
                      }
                  },
                  {
                    "name": "green apple",
                    "price": 150.0,
                    "inventory":
                      {
                      "inStock": 10
                      }
                  }
                ]
              }
            }' -X POST "https://api.uds.app/partner/v2/goods"


            // create goods item in category with id=123 and array of photo
            imageIds, which have been uploaded in advance using /image-upload
            method

            curl -H "accept: application/json" \

            -H "Content-Type: application/json" \

            -H "X-Origin-Request-Id: $(uuidgen)" \

            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \

            -u "<companyId>:<api_key>"

            -d '{ \
              "name": "T-shirt", \
              "nodeId": 123, \
              "externalId": "tshirt", \
              "data": {
                "type": "ITEM",
                "price": 100.0,
                "photos": [
                  "NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ=="
                ],
                "description": "This is an item in category",
                "offer": {
                  "offerPrice": 90.0,
                  "skipLoyalty": true
                },
                "inventory": {
                  "inStock": 10
                }
              }
            }' -X POST "https://api.uds.app/partner/v2/goods"


            // create goods item with measurement

            curl -H "accept: application/json" \

            -H "Content-Type: application/json" \

            -H "X-Origin-Request-Id: $(uuidgen)" \

            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \

            -u "<companyId>:<api_key>"

            -d '{ \
              "name": "Shugar", \
              "externalId": "shugar", \
              "data": {
                "type": "ITEM",
                "price": 0.1,
                "description": "This is an item with measurement"
                "inventory": {
                  "inStock": 300000
                },
                "measurement": "GRAM",
                "increment": 500,
                "minQuantity": 500
              }
            }' -X POST "https://api.uds.app/partner/v2/goods"
        - lang: PHP
          source: >
            $url = "https://api.uds.app/partner/v2/goods";

            $companyId = 123456; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            /**
             * create category 'Clothers'
            **/


            $date = new DateTime();


            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)


            $categoryData = json_encode(
              array(
                'name' => 'Clothers',
                'nodeId' => null,
                'externalId' => 'clothers',
                'data' => array(
                    'type' => 'CATEGORY'
                  )
              )
            );


            $opts = array(
                'http' => array(
                    'method' => 'POST',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "Content-Type: application/json\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $categoryData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;


            /**
             * create goods item without category, but with variants and array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/


            $date = new DateTime();

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)


            $varItemData = json_encode(
              array(
                'name' => 'Apple',
                'nodeId' => null,
                'externalId' => 'category1',
                'data' => array(
                    'type' => 'VARYING_ITEM',
                    'description' => 'This is an item without category',
                    'photos' => array(
                      'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ=='
                    ),
                    'variants' => array(
                      array(
                        'name' => 'red apple',
                        'price' => 100.0,
                        'inventory' => array(
                            'inStock' => 17
                          )
                      ),
                      array(
                        'name' => 'green apple',
                        'price' => 150.0,
                        'inventory' =>array(
                            'inStock' =>10
                          )
                      ),
                    )
                  )
              )
            );


            $opts = array(
                'http' => array(
                    'method' => 'POST',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "Content-Type: application/json\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $varItemData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;


            /**
             * create goods item in category with id=123 and array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/


            $date = new DateTime();

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)


            $itemData = json_encode(
              array(
                'name' => 'T-shirt',
                'nodeId' => 123,
                'externalId' => 'tshirt',
                'data' => array(
                    'type' => 'ITEM',
                    'price' => 100.0,
                    'description' => 'This is an item in category',
                    'photos' => array(
                      'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ=='
                    ),
                    'offer'=> array(
                       'offerPrice'=> 90.0,
                       'skipLoyalty'=> true
                      ),
                    'inventory' =>array(
                        'inStock' =>null
                      )
                  )
              )
            );


            $opts = array(
                'http' => array(
                    'method' => 'POST',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "Content-Type: application/json\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $itemData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;


            /**
             * create goods item with measurement
            **/


            $date = new DateTime();

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)


            $itemData = json_encode(
              array(
                'name' => 'Shugar',
                'externalId' => 'shugar',
                'data' => array(
                    'type' => 'ITEM',
                    'price' => 0.1,
                    'description' => 'This is an item with measurement',
                    'inventory' => array(
                        'inStock' => 300000
                    ),
                    'measurement' => 'GRAM',
                    'increment' => 500,
                    'minQuantity' => 500
                  )
              )
            );


            $opts = array(
                'http' => array(
                    'method' => 'POST',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "Content-Type: application/json\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $itemData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection
            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            /**
             * create category 'Clothers'
            **/
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='POST',
                url='/partner/v2/goods',
                body=json.dumps({
                  'name': 'Clothers',
                  'nodeId': None,
                  'externalId': 'clothers',
                  'data': {
                      'type': 'CATEGORY'
                  }
                }),
                headers={
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print(con.getresponse().read())
            con.close()
            /**
             * create goods item without category, but with variants and array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='POST',
                url='/partner/v2/goods',
                body=json.dumps({
                  'name': 'Applevdmkfmdkfmd',
                  'nodeId': None,
                  'externalId': 'varying-item-id',
                  'data': {
                    'type': 'VARYING_ITEM',
                    'description': 'This is an item without category',
                    'photos': [
                      'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==',
                    ],
                    'variants': [{
                      'name': 'red apple',
                      'price': 100.0,
                      'inventory': {
                        'inStock': 17
                      }
                    },
                    {
                      'name': 'green apple',
                      'price': 150.0,
                      'inventory': {
                        'inStock': 10
                      }
                    }]
                  }
                }),
                headers={
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
            /**
             * create goods item in category with id=123 and array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='POST',
                url='/partner/v2/goods',
                body=json.dumps({
                  'name': 'T-shirt',
                  'nodeId': 123,
                  'externalId': 'tshirt',
                  'data': {
                      'type': 'ITEM',
                      'price': 100.0,
                      'description': 'This is an item in category',
                      'photos': [
                          'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==',
                      ],
                      'offer': {
                          'offerPrice': 90.0,
                          'skipLoyalty': true
                      },
                      'inventory': {
                        'inStock': null
                      }
                  }
                }),
                headers={
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print(con.getresponse().read())
            con.close()
            /**
             * create goods item with measurement
            **/
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='POST',
                url='/partner/v2/goods',
                body=json.dumps({
                  'name': 'Shugar',
                  'externalId': 'shugar',
                  'data': {
                      'type': 'ITEM',
                      'price': 0.1,
                      'description': 'This is an item with measurement',
                      'inventory': {
                        'inStock': 300000
                      },
                      'measurement': 'GRAM',
                      'increment': 500,
                      'minQuantity': 500
                  }
                }),
                headers={
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print(con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';
            /**
             * create category 'Clothers'
            **/
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods',
              'method': 'POST',
              'headers': {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                var responseData = JSON.parse(response);
                console.log(responseData);
              });
            });
            var requestData = JSON.stringify({
              'name': 'Clothers',
              'nodeId': null,
              'externalId': 'clothers',
              'data': {
                'type': 'CATEGORY'
              }
            });
            req.write(requestData);
            req.end();
            /**
             * create goods item without category, but with variants and array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods',
              'method': 'POST',
              'headers': {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                var responseData = JSON.parse(response);
                console.log(responseData);
              });
            });
            var requestData = JSON.stringify({
              'name': 'Applevdmkfmdkfmd',
              'nodeId': null,
              'externalId': 'category',
              'data': {
                'type': 'VARYING_ITEM',
                'description': 'This is an item without category',
                'photos': [
                    'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==',
                ],
                'variants': [
                  {
                    'name': 'red apple',
                    'price': 100.0,
                    'inventory': {
                      'inStock': 17
                    }
                  },
                  {
                    'name': 'green apple',
                    'price': 150.0,
                    'inventory': {
                      'inStock': 10
                    }
                  }
                ]
              }
            });
            req.write(requestData);
            req.end();
            /**
             * create goods item in category with id=123 and array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods',
              'method': 'POST',
              'headers': {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                var responseData = JSON.parse(response);
                console.log(responseData);
              });
            });
            var requestData = JSON.stringify({
              'name': 'T-shirt',
              'nodeId': 34430,
              'externalId': 'tshirt',
              'data': {
                'type': 'ITEM',
                'price': 100.0,
                'description': 'This is an item in category',
                'photos': [
                    'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==',
                ],
                'offer': {
                    'offerPrice': 90.0,
                    'skipLoyalty': true
                },
                'inventory': {
                  'inStock': null
                }
             }
            });
            req.write(requestData);
            req.end();
            /**
             * create goods item with measurement
            **/
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods',
              'method': 'POST',
              'headers': {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                var responseData = JSON.parse(response);
                console.log(responseData);
              });
            });
            var requestData = JSON.stringify({
              'name': 'Shugar',
              'externalId': 'shugar',
              'data': {
                'type': 'ITEM',
                'price': 100.0,
                'description': 'This is an item with measurement',
                'inventory': {
                  'inStock': 300000
                },
                'measurement': 'GRAM',
                'increment': 500,
                'minQuantity': 500
             }
            });
            req.write(requestData);
            req.end();
  '/goods/{id}':
    parameters:
      - $ref: '#/components/parameters/id'
    get:
      tags:
        - Goods
      summary: Get item/category information
      description: Get item/category information by ID.
      responses:
        '200':
          description: OK.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoodsDetailed'
      x-codeSamples:
        - lang: curl
          source: |
            curl -H 'Accept: application/json' \
            -H "X-Origin-Request-Id: $(uuidgen)" \
            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
            -u "<companyId>:<api_key>"
            -X GET -s https://api.uds.app/partner/v2/goods/123
        - lang: PHP
          source: >
            $goodsId = 345; //set ID of goods

            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/goods/".$goodsId;

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'GET',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection
            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='GET',
                url='/partner/v2/goods/345',
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods/345',
              'method': 'GET',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });
            req.end();
    put:
      tags:
        - Goods
      summary: Update item/category
      description: >-
        ### Key aspects 

        * The type of the edited object is indicated in the `data.type` field.  


        3 values allowed: 

        - `CATEGORY` - to create a category; 

        - `ITEM` - to create an item; 

        - `VARYING_ITEM` - to create an item with options; 

        * To move an item to another category, specify the category ID in
        `nodeId`; n* Moving a category into another category is not allowed; 

        * For an item to become uncategorized, specify the value `null` in the`
        nodeId` field. 


        ### Errors 

        Status|Error code|Description 

        --- |--- |---  
         `400` | goods.nodeIndex.invalid| Specification of the identifier `nodeId` to create a category is not allowed 
         `400` | goods.limitIsReached|Quantity limit exceeded
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GoodsDetailed'
      responses:
        '200':
          description: OK.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoodsDetailed'
      x-codeSamples:
        - lang: curl
          source: >
            // update category 'Clothers'

            curl -H "accept: application/json" \

            -H "Content-Type: application/json" \

            -H "X-Origin-Request-Id: $(uuidgen)" \

            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \

            -u "<companyId>:<api_key>"

            -d '{ \
              "name": "Clothers and shoes", \
              "nodeId": null, \
              "externalId": "clothers", \
              "data": {
                "type": "CATEGORY"
              },
              "hidden": null
            }' -X PUT "https://api.uds.app/partner/v2/goods/123"


            // update goods item without category, but with variants and with
            array of photo imageIds, which have been uploaded in advance using
            /image-upload method

            curl -H "accept: application/json" \

            -H "Content-Type: application/json" \

            -H "X-Origin-Request-Id: $(uuidgen)" \

            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \

            -u "<companyId>:<api_key>"

            -d '{ \
              "name": "Apple", \
              "nodeId": null, \
              "externalId": "apple", \
              "hidden": null, \
              "data": {
                "type": "VARYING_ITEM",
                "photos": [
                    "NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==",
                ],
                "description": "This is an item without category"
                "variants": [
                  {
                    "name": "red apple",
                    "price": 110.0
                  },
                  {
                    "name": "green apple",
                    "price": 160.0
                  }
                ]
              }
            }' -X PUT "https://api.uds.app/partner/v2/goods/111"


            // update goods item in category with array of photo imageIds, which
            have been uploaded in advance using /image-upload method

            curl -H "accept: application/json" \

            -H "Content-Type: application/json" \

            -H "X-Origin-Request-Id: $(uuidgen)" \

            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \

            -u "<companyId>:<api_key>"

            -d '{ \
              "name": "T-shirt", \
              "nodeId": 123, \
              "externalId": "tshirt", \
              "hidden": false, \
              "data": {
                "type": "ITEM",
                "price": 110.0,
                "photos": [
                    "NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==",
                ],
                "description": "This is an item in category"
              }
            }' -X POST "https://api.uds.app/partner/v2/goods/222"


            // update goods item with measurement

            curl -H "accept: application/json" \

            -H "Content-Type: application/json" \

            -H "X-Origin-Request-Id: $(uuidgen)" \

            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \

            -u "<companyId>:<api_key>"

            -d '{ \
              "name": "Shugar", \
              "externalId": "shugar", \
              "data": {
                "type": "ITEM",
                "price": 0.1,
                "description": "This is an item with measurement"
                "inventory": {
                  "inStock": 300000
                },
                "measurement": "GRAM",
                "increment": 500,
                "minQuantity": 500
              }
            }' -X POST "https://api.uds.app/partner/v2/goods/222"
        - lang: PHP
          source: >
            $companyId = 123456; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            /**
             * update category 'Clothers'
            **/

            $date = new DateTime();

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $url = "https://api.uds.app/partner/v2/goods/123";


            $categoryData = json_encode(
              array(
                'name' => 'Clothers',
                'nodeId' => null,
                'hidden' => null,
                'externalId' => 'clothers',
                'data' => array(
                    'type' => 'CATEGORY'
                  )
              )
            );


            $opts = array(
                'http' => array(
                    'method' => 'PUT',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "Content-Type: application/json\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $categoryData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;


            /**
             * update goods item without category, but with variants and with array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/


            $url = "https://api.uds.app/partner/v2/goods/111";

            $date = new DateTime();

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)


            $varItemData = json_encode(
              array(
                'name' => 'Apple',
                'nodeId' => null,
                'hidden' => null,
                'externalId' => 'category1',
                'data' => array(
                    'type' => 'VARYING_ITEM',
                    'description' => 'This is an item without category',
                    'photos' => array(
                      'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ=='
                    ),
                    'variants' => array(
                      array(
                        'name' => 'red apple',
                        'price' => 100.0
                      ),
                      array(
                        'name' => 'green apple',
                        'price' => 150.0
                      ),
                    )
                  )
              )
            );


            $opts = array(
                'http' => array(
                    'method' => 'PUT',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "Content-Type: application/json\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $varItemData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;


            /**
             * update goods item in category with array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/

            $url = "https://api.uds.app/partner/v2/goods/222";

            $date = new DateTime();


            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)


            $itemData = json_encode(
              array(
                'name' => 'T-shirt',
                'nodeId' => 123,
                'hidden' => false,
                'externalId' => 'tshirt',
                'data' => array(
                    'type' => 'ITEM',
                    'photos' => array(
                      'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ=='
                    ),
                    'price' => 100.0,
                    'description' => 'This is an item in category'
                  )
              )
            );


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'PUT',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "Content-Type: application/json\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $itemData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;


            /**
             * update goods item with measurement
            **/

            $url = "https://api.uds.app/partner/v2/goods/222";

            $date = new DateTime();

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $itemData = json_encode(
              array(
                'name' => 'Shugar',
                'externalId' => 'shugar',
                'data' => array(
                    'type' => 'ITEM',
                    'price' => 0.1,
                    'description' => 'This is an item with measurement',
                    'inventory' => array(
                        'inStock' => 300000
                    ),
                    'measurement' => 'GRAM',
                    'increment' => 500,
                    'minQuantity' => 500
                )
              )
            );


            // Create a stream

            $opts = array(
                'http' => array(
                    'method' => 'PUT',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "Content-Type: application/json\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $itemData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $cont

            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            import ssl
            from datetime import datetime
            from http.client import HTTPSConnection
            authString = base64.b64encode(b'<companyId>:<apiKey>')
            /**
             * update category 'Clothers'
            **/
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='PUT',
                url='/partner/v2/goods/123',
                body=json.dumps({
                  'name': 'Clothers',
                  'nodeId': None,
                  'hidden': None,
                  'externalId': 'clothers',
                  'data': {
                      'type': 'CATEGORY'
                  }
                }),
                headers={
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print(con.getresponse().read())
            con.close()

            /**
             * update goods item without category, but with variants and with array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='PUT',
                url='/partner/v2/goods/123',
                body=json.dumps({
                  'name': 'Apple',
                  'nodeId': None,
                  'hidden': None,
                  'externalId': 'category1',
                  'data': {
                    'type': 'VARYING_ITEM',
                    'description': 'This is an item without category',
                    'photos': [
                      'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==',
                    ],
                    'variants': [{
                      'name': 'red apple',
                      'price': 100.0
                    },
                    {
                      'name': 'green apple',
                      'price': 150.0
                    }]
                  }
                }),
                headers={
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print(con.getresponse().read())
            con.close()

            /**
             * update goods item in category with array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='PUT',
                url='/partner/v2/goods/222',
                body=json.dumps({
                  'name': 'T-shirе',
                  'nodeId': 123,
                  'hidden': false,
                  'externalId': 'tshirt',
                  'data': {
                    'type': 'ITEM',
                    'photos': [
                      'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==',
                    ],
                    'description': 'This is an item in category',
                    'price': 100.0
                  }
                }),
                headers={
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print(con.getresponse().read())
            con.close()

            /**
             * update goods item with measurement
            **/
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='PUT',
                url='/partner/v2/goods/222',
                body=json.dumps({
                  'name': 'Shugar',
                  'externalId': 'shugar',
                  'data': {
                    'type': 'ITEM',
                    'price': 0.1,
                    'description': 'This is an item with measurement',
                    'inventory': {
                      'inStock': 300000
                    },
                    'measurement': 'GRAM',
                    'increment': 500,
                    'minQuantity': 500
                  }
                }),
                headers={
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print(con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';
            /**
             * update category 'Clothers'
            **/
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods/123',
              'method': 'PUT',
              'headers': {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var requestData = JSON.stringify({
              'name': 'New Clothers',
              'nodeId': null,
              'hidden': null,
              'externalId': 'clothers',
              'data': {
                  'type': 'CATEGORY'
              }
            });
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });
            req.write(requestData);
            req.end();

            /**
             * update goods item without category, but with variants and with array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods/111',
              'method': 'PUT',
              'headers': {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var requestData = JSON.stringify({
              'name': 'Apple',
              'nodeId': null,
              'hidden': null,
              'externalId': 'category1',
              'data': {
                'type': 'VARYING_ITEM',
                'description': 'This is an item without category',
                'photos': [
                  'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==',
                ],
                'variants': [{
                  'name': 'red apple',
                  'price': 100.0
                },
                {
                  'name': 'green apple',
                  'price': 150.0
                }]
              }
            });
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });
            req.write(requestData);
            req.end();

            /**
             * update goods item in category with array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods/222',
              'method': 'PUT',
              'headers': {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var requestData = JSON.stringify({
                  'name': 'T-shirе',
                  'nodeId': 123,
                  'hidden': false,
                  'externalId': 'external',
                  'data': {
                    'type': 'ITEM',
                    'description': 'This is an item in category',
                    'photos': [
                      'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==',
                    ],
                    'price': 100.0
                  }
            });
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });
            req.write(requestData);
            req.end();

            /**
             * update goods item with measurement
            **/
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods/222',
              'method': 'PUT',
              'headers': {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var requestData = JSON.stringify({
              'name': 'Shugar',
              'externalId': 'shugar',
              'data': {
                'type': 'ITEM',
                'price': 100.0,
                'description': 'This is an item with measurement',
                'inventory': {
                  'inStock': 300000
                },
                'measurement': 'GRAM',
                'increment': 500,
                'minQuantity': 500
              }
            });
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });
            req.write(requestData);
            req.end();
    delete:
      tags:
        - Goods
      summary: Delete item/category
      description: Delete item/category by its ID
      responses:
        '204':
          description: Successfully deleted
      x-codeSamples:
        - lang: curl
          source: |
            curl -H 'Accept: application/json' \
            -H "X-Origin-Request-Id: $(uuidgen)" \
            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
            -u "<companyId>:<api_key>"
            -X DELETE -s https://api.uds.app/partner/v2/goods/123
        - lang: PHP
          source: >
            $goodsId = 345; //set ID of deleting goods

            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/goods/".$goodsId;

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'DELETE',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );


            $context = stream_context_create($opts);


            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection
            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='DELETE',
                url='/partner/v2/goods/345',
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods/345',
              'method': 'DELETE',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });
            req.end();
  '/goods/external/{externalId}':
    parameters:
      - $ref: '#/components/parameters/externalId'
    get:
      tags:
        - Goods
      summary: Get item/category information by external identifier
      description: Get item/category information by external identifier.
      responses:
        '200':
          description: OK.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoodsDetailed'
      x-codeSamples:
        - lang: curl
          source: |
            curl -H 'Accept: application/json' \
            -H "X-Origin-Request-Id: $(uuidgen)" \
            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
            -u "<companyId>:<api_key>"
            -X GET -s https://api.uds.app/partner/v2/goods/external/abc123
        - lang: PHP
          source: >
            $goodsExternalId = 345; //set externalId of goods

            $date = new DateTime();

            $url =
            "https://api.uds.app/partner/v2/goods/external/".$goodsExternalId;

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'GET',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection
            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='GET',
                url='/partner/v2/goods/external/abc345',
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods/external/abc345',
              'method': 'GET',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });
            req.end();
    put:
      tags:
        - Goods
      summary: Update item/category by external identifier.
      description: >-
        ### Key aspects 

        * The type of the edited object is indicated in the `data.type` field.  


        3 values allowed: 

        - `CATEGORY` - to create a category; 

        - `ITEM` - to create an item; 

        - `VARYING_ITEM` - to create an item with options; 

        * To move an item to another category, specify the category ID in
        `nodeId`; 

        * For an item to become uncategorized, specify the value `null` in the`
        nodeId` field. 


        ### Errors 

        Status|Error code|Description 

        --- |--- |---  
         `400` | goods.nodeIndex.invalid| Specification of the identifier `nodeId` to create a category is not allowed 
         `404` | notFound| Item with this external identifier not found
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GoodsDetailed'
      responses:
        '200':
          description: OK.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoodsDetailed'
      x-codeSamples:
        - lang: curl
          source: >
            // update category 'Clothers'

            curl -H "accept: application/json" \

            -H "Content-Type: application/json" \

            -H "X-Origin-Request-Id: $(uuidgen)" \

            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \

            -u "<companyId>:<api_key>"

            -d '{ \
              "name": "Clothers and shoes", \
              "nodeId": null, \
              "externalId": "abc123", \
              "data": {
                "type": "CATEGORY"
              },
              "hidden": false
            }' -X PUT "https://api.uds.app/partner/v2/goods/external/abc123"


            // update goods item without category, but with variants and with
            array of photo imageIds, which have been uploaded in advance using
            /image-upload method

            curl -H "accept: application/json" \

            -H "Content-Type: application/json" \

            -H "X-Origin-Request-Id: $(uuidgen)" \

            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \

            -u "<companyId>:<api_key>"

            -d '{ \
              "name": "Apple", \
              "nodeId": null, \
              "externalId": "abc123", \
              "hidden": false, \
              "data": {
                "type": "VARYING_ITEM",
                "photos": [
                    "NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==",
                ],
                "description": "This is an item without category"
                "variants": [
                  {
                    "name": "red apple",
                    "price": 110.0
                  },
                  {
                    "name": "green apple",
                    "price": 160.0
                  }
                ]
              }
            }' -X PUT "https://api.uds.app/partner/v2/goods/external/abc111"


            // update goods item in category with array of photo imageIds, which
            have been uploaded in advance using /image-upload method

            curl -H "accept: application/json" \

            -H "Content-Type: application/json" \

            -H "X-Origin-Request-Id: $(uuidgen)" \

            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \

            -u "<companyId>:<api_key>"

            -d '{ \
              "name": "T-shirt", \
              "nodeId": 123, \
              "externalId": "abc222", \
              "hidden": false, \
              "data": {
                "type": "ITEM",
                "price": 110.0,
                "photos": [
                    "NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==",
                ],
                "description": "This is an item in category"
              }
            }' -X POST "https://api.uds.app/partner/v2/goods/external/abc222"


            // update goods item with measurement

            curl -H "accept: application/json" \

            -H "Content-Type: application/json" \

            -H "X-Origin-Request-Id: $(uuidgen)" \

            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \

            -u "<companyId>:<api_key>"

            -d '{ \
              "name": "Sugar", \
              "externalId": "abc222", \
              "data": {
                "type": "ITEM",
                "price": 0.1,
                "description": "This is an item with measurement"
                "inventory": {
                  "inStock": 300000
                },
                "measurement": "GRAM",
                "increment": 500,
                "minQuantity": 500
              }
            }' -X POST "https://api.uds.app/partner/v2/goods/external/abc222"
        - lang: PHP
          source: >
            $companyId = 123456; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            /**
             * update category 'Clothers'
            **/

            $date = new DateTime();

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $url = "https://api.uds.app/partner/v2/goods/external/abc123";


            $categoryData = json_encode(
              array(
                'name' => 'Clothers',
                'nodeId' => null,
                'hidden' => null,
                'externalId' => 'abc123',
                'data' => array(
                    'type' => 'CATEGORY'
                  )
              )
            );


            $opts = array(
                'http' => array(
                    'method' => 'PUT',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "Content-Type: application/json\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $categoryData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;


            /**
             * update goods item without category, but with variants and with array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/


            $url = "https://api.uds.app/partner/v2/goods/external/abc111";

            $date = new DateTime();

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)


            $varItemData = json_encode(
              array(
                'name' => 'Apple',
                'nodeId' => null,
                'hidden' => null,
                'externalId' => 'abc111',
                'data' => array(
                    'type' => 'VARYING_ITEM',
                    'description' => 'This is an item without category',
                    'photos' => array(
                      'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ=='
                    ),
                    'variants' => array(
                      array(
                        'name' => 'red apple',
                        'price' => 100.0
                      ),
                      array(
                        'name' => 'green apple',
                        'price' => 150.0
                      ),
                    )
                  )
              )
            );


            $opts = array(
                'http' => array(
                    'method' => 'PUT',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "Content-Type: application/json\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $varItemData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;


            /**
             * update goods item in category with array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/

            $url = "https://api.uds.app/partner/v2/goods/external/abc222";

            $date = new DateTime();


            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)


            $itemData = json_encode(
              array(
                'name' => 'T-shirt',
                'nodeId' => 123,
                'hidden' => false,
                'externalId' => 'abc222',
                'data' => array(
                    'type' => 'ITEM',
                    'photos' => array(
                      'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ=='
                    ),
                    'price' => 100.0,
                    'description' => 'This is an item in category'
                  )
              )
            );


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'PUT',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "Content-Type: application/json\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $itemData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;


            /**
             * update goods item with measurement
            **/

            $url = "https://api.uds.app/partner/v2/goods/external/abc222";

            $date = new DateTime();

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $itemData = json_encode(
              array(
                'name' => 'Shugar',
                'externalId' => 'abc222',
                'data' => array(
                    'type' => 'ITEM',
                    'price' => 0.1,
                    'description' => 'This is an item with measurement',
                    'inventory' => array(
                        'inStock' => 300000
                    ),
                    'measurement' => 'GRAM',
                    'increment' => 500,
                    'minQuantity' => 500
                )
              )
            );


            // Create a stream

            $opts = array(
                'http' => array(
                    'method' => 'PUT',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "Content-Type: application/json\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $itemData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $cont

            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            import ssl
            from datetime import datetime
            from http.client import HTTPSConnection
            authString = base64.b64encode(b'<companyId>:<apiKey>')
            /**
             * update category 'Clothers'
            **/
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='PUT',
                url='/partner/v2/goods/external/abc123',
                body=json.dumps({
                  'name': 'Clothers',
                  'nodeId': None,
                  'hidden': None,
                  'externalId': 'abc123',
                  'data': {
                      'type': 'CATEGORY'
                  }
                }),
                headers={
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print(con.getresponse().read())
            con.close()

            /**
             * update goods item without category, but with variants and with array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='PUT',
                url='/partner/v2/goods/external/abc123',
                body=json.dumps({
                  'name': 'Apple',
                  'nodeId': None,
                  'hidden': None,
                  'externalId': 'abc123',
                  'data': {
                    'type': 'VARYING_ITEM',
                    'description': 'This is an item without category',
                    'photos': [
                      'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==',
                    ],
                    'variants': [{
                      'name': 'red apple',
                      'price': 100.0
                    },
                    {
                      'name': 'green apple',
                      'price': 150.0
                    }]
                  }
                }),
                headers={
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print(con.getresponse().read())
            con.close()

            /**
             * update goods item in category with array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='PUT',
                url='/partner/v2/goods/external/abc222',
                body=json.dumps({
                  'name': 'T-shirt',
                  'nodeId': 123,
                  'hidden': false,
                  'externalId': 'abc222',
                  'data': {
                    'type': 'ITEM',
                    'photos': [
                      'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==',
                    ],
                    'description': 'This is an item in category',
                    'price': 100.0
                  }
                }),
                headers={
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print(con.getresponse().read())
            con.close()

            /**
             * update goods item with measurement
            **/
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='PUT',
                url='/partner/v2/goods/external/abc222',
                body=json.dumps({
                  'name': 'Shugar',
                  'externalId': 'abc222',
                  'data': {
                    'type': 'ITEM',
                    'price': 0.1,
                    'description': 'This is an item with measurement',
                    'inventory': {
                      'inStock': 300000
                    },
                    'measurement': 'GRAM',
                    'increment': 500,
                    'minQuantity': 500
                  }
                }),
                headers={
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print(con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';
            /**
             * update category 'Clothers'
            **/
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods/external/abc123',
              'method': 'PUT',
              'headers': {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var requestData = JSON.stringify({
              'name': 'New Clothers',
              'nodeId': null,
              'hidden': null,
              'externalId': 'abc123',
              'data': {
                  'type': 'CATEGORY'
              }
            });
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });
            req.write(requestData);
            req.end();

            /**
             * update goods item without category, but with variants and with array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods/external/abc111',
              'method': 'PUT',
              'headers': {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var requestData = JSON.stringify({
              'name': 'Apple',
              'nodeId': null,
              'hidden': null,
              'externalId': 'abc111',
              'data': {
                'type': 'VARYING_ITEM',
                'description': 'This is an item without category',
                'photos': [
                  'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==',
                ],
                'variants': [{
                  'name': 'red apple',
                  'price': 100.0
                },
                {
                  'name': 'green apple',
                  'price': 150.0
                }]
              }
            });
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });
            req.write(requestData);
            req.end();

            /**
             * update goods item in category with array of photo imageIds, which have been uploaded in advance using /image-upload method
            **/
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods/external/abc222',
              'method': 'PUT',
              'headers': {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var requestData = JSON.stringify({
                  'name': 'T-shirе',
                  'nodeId': 123,
                  'hidden': false,
                  'externalId': 'abc222',
                  'data': {
                    'type': 'ITEM',
                    'description': 'This is an item in category',
                    'photos': [
                      'NTQ5NzU1ODIxNDg5L0dPT0RTLzdiYzBlNTU0LWMyNzMtNDc1MC05MjEyLWY0NWJhNWM1ODZiOQ==',
                    ],
                    'price': 100.0
                  }
            });
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });
            req.write(requestData);
            req.end();

            /**
             * update goods item with measurement
            **/
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods/external/abc222',
              'method': 'PUT',
              'headers': {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var requestData = JSON.stringify({
              'name': 'Shugar',
              'externalId': 'abc222',
              'data': {
                'type': 'ITEM',
                'price': 100.0,
                'description': 'This is an item with measurement',
                'inventory': {
                  'inStock': 300000
                },
                'measurement': 'GRAM',
                'increment': 500,
                'minQuantity': 500
              }
            });
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });
            req.write(requestData);
            req.end();
    delete:
      tags:
        - Goods
      summary: Delete item/category by external identifier.
      description: Delete item/category by external identifier.
      responses:
        '204':
          description: Successfully deleted
      x-codeSamples:
        - lang: curl
          source: |
            curl -H 'Accept: application/json' \
            -H "X-Origin-Request-Id: $(uuidgen)" \
            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
            -u "<companyId>:<api_key>"
            -X DELETE -s https://api.uds.app/partner/v2/goods/external/abc123
        - lang: PHP
          source: >
            $goodsId = 345; //set ID of deleting goods

            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/goods/".$goodsId;

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'DELETE',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );


            $context = stream_context_create($opts);


            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection
            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='DELETE',
                url='/partner/v2/goods/external/abc345',
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods/external/abc345',
              'method': 'DELETE',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });
            req.end();
  '/goods-orders/{id}':
    parameters:
      - $ref: '#/components/parameters/id'
    get:
      tags:
        - Goods Order
      summary: Order detailed info
      description: Order detailed info
      x-codeSamples:
        - lang: curl
          source: |
            curl -H 'Accept: application/json' \
                 -H "X-Origin-Request-Id: $(uuidgen)" \
                 -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
                 -u "<companyId>:<api_key>"
                 -X GET -s https://api.uds.app/partner/v2/goods-orders/123
        - lang: PHP
          source: >
            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/goods-orders/123";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream

            $opts = array(
                'http' => array(
                    'method' => 'GET',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='GET',
                url='/partner/v2/goods-orders/123',
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods-orders/123',
              'method': 'GET',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.end();
      responses:
        '200':
          description: OK.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoodsOrderDetailed'
    put:
      tags:
        - Goods Order
      summary: Change the order
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GoodsOrderUpdate'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoodsOrderDetailed'
      x-codeSamples:
        - lang: curl
          source: |
            curl -H "accept: application/json" \
            -H "Content-Type: application/json" \
            -H "X-Origin-Request-Id: $(uuidgen)" \
            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
            -u "<companyId>:<api_key>"
            -d '{ \
                "deliveryCase": {"name": "new zone", "value": 0}, \
                "items": [{
                  "id": 111, \
                  "variantName": "red", \
                  "qty": 2 \
                  },{ \
                  "externalId": 22222, \
                  "name": "new green apple", \
                  "price": 110.0, \
                  "qty": 2, \
                  "skipLoyalty": false \
                  }] \
                }' \
            -X PUT "https://api.uds.app/partner/v2/goods-orders/123"
        - lang: PHP
          source: >
            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/goods-orders/123";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Change quantity of the one item and add new one unknown for UDS

            $varOrderData = json_encode(
              array(
                'deliveryCase' => array(
                    'name' => 'new zone',
                    'value' => 0
                    ),
                'items' => array(
                    array(
                      'id' => 111,
                      'variantName' => 'red',
                      'qty' => 2
                    ),
                    array(
                      'externalId' => 22222,
                      'name' => 'new green apple',
                      'price' => 110.0,
                      'qty' => 2,
                      'skipLoyalty' => false
                    )
                )
              )
            );


            // Create a stream

            $opts = array(
                'http' => array(
                    'method' => 'PUT',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "Content-Type: application/json\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $varOrderData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            import ssl
            from datetime import datetime
            from http.client import HTTPSConnection
            authString = base64.b64encode(b'<companyId>:<apiKey>')

            /**
             * Change quantity of the one item and add new one unknown for UDS
            **/
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='PUT',
                url='/partner/v2/goods-orders/123',
                body=json.dumps({
                  'deliveryCase': {
                    'name': 'new zone',
                    'value': 0
                  },
                  'items': [
                    {
                      'id': 111,
                      'variantName': 'red',
                      'qty': 2
                    },
                    {
                      'externalId': 22222,
                      'name': 'new green apple',
                      'price': 150.0,
                      'qty': 2,
                      'skipLoyalty': false
                    }
                  ]
                }),
                headers={
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print(con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';
            /**
             * update goods item without category, but with variants
            **/
            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods-orders/123',
              'method': 'PUT',
              'headers': {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };
            var requestData = JSON.stringify({
              'deliveryCase': {
                'name': 'new zone',
                'value': 0
              },
              'items': [
                {
                  'id': 111,
                  'variantName': 'red',
                  'qty': 2
                },
                {
                  'externalId': 22222,
                  'name': 'new green apple',
                  'price': 150.0,
                  'qty': 2,
                  'skipLoyalty': false
                }
              ]
            });
            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });
            req.write(requestData);
            req.end();
  '/goods-orders/{id}/complete':
    parameters:
      - $ref: '#/components/parameters/id'
    post:
      tags:
        - Goods Order
      summary: Completes the order
      description: Completes the order with the ID and creates a transaction.
      x-codeSamples:
        - lang: curl
          source: |
            curl -H "accept: application/json" \
            -H "Content-Type: application/json" \
            -H "X-Origin-Request-Id: $(uuidgen)" \
            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
            -u "<companyId>:<api_key>"
            -X POST "https://api.uds.app/partner/v2/goods-orders/123/complete"
        - lang: PHP
          source: >
            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/goods-orders/123/complete";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            $opts = array(
                'http' => array(
                    'method' => 'POST',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
              method='POST',
              url='/partner/v2/goods-orders/123/complete',
              headers={
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Content-Type': 'application/json',
                'Authorization': 'Basic ' + authString.decode("utf-8"),
                'X-Origin-Request-Id': str(uuid.uuid4()),
                'X-Timestamp': datetime.now().isoformat(),
              }
            )
            print(con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods-orders/123/complete',
              'method': 'POST',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Content-Type': 'application/json',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );

              });
            });
            req.end();
      responses:
        '200':
          description: OK.
          content:
            application/json:
              schema:
                properties:
                  transaction:
                    type: object
                    description: Transaction information.
                    properties:
                      id:
                        type: integer
                        format: int64
                        description: Transaction ID.
                  order:
                    $ref: '#/components/schemas/GoodsOrderDetailed'
  '/goods-orders/{id}/code':
    parameters:
      - $ref: '#/components/parameters/id'
    post:
      tags:
        - Goods Order
      summary: Generate code to complete the order
      description: Generate code to complete the order with the ID
      x-codeSamples:
        - lang: curl
          source: |
            curl -H "accept: application/json" \
            -H "Content-Type: application/json" \
            -H "X-Origin-Request-Id: $(uuidgen)" \
            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
            -u "<companyId>:<api_key>"
            -X POST "https://api.uds.app/partner/v2/goods-orders/123/code"
        - lang: PHP
          source: >
            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/goods-orders/123/code";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            $opts = array(
                'http' => array(
                    'method' => 'POST',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
              method='POST',
              url='/partner/v2/goods-orders/123/code',
              headers={
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Content-Type': 'application/json',
                'Authorization': 'Basic ' + authString.decode("utf-8"),
                'X-Origin-Request-Id': str(uuid.uuid4()),
                'X-Timestamp': datetime.now().isoformat(),
              }
            )
            print(con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods-orders/123/code',
              'method': 'POST',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Content-Type': 'application/json',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );

              });
            });
            req.end();
      responses:
        '200':
          description: OK.
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: string
                    description: Payment code to complete the order
  '/goods-orders/{id}/change-status':
    parameters:
      - $ref: '#/components/parameters/id'
    post:
      tags:
        - Goods Order
      summary: Change goods order processing status
      description: Method to change an goods order processing status
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                orderStatus:
                  description: Order processing status.
                  type: string
                  enum:
                    - WAITING_PAYMENT
                    - ACCEPTED
                    - READY
              required:
                - orderStatus
      x-codeSamples:
        - lang: curl
          source: |
            curl -H 'Accept: application/json' \
                 -H "Content-Type: application/json" \
                 -H "X-Origin-Request-Id: $(uuidgen)" \
                 -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
                 -u "<companyId>:<api_key>"
                 -d '{"orderStatus": "ACCEPTED"}'
                 -X POST -s https://api.uds.app/partner/v2/goods-orders/123/change-status
        - lang: PHP
          source: >
            $date = new DateTime();

            $url =
            "https://api.uds.app/partner/v2/goods-orders/123/change-status";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey
             // Set request body

            $postData = json_encode(
              array("orderStatus", "ACCEPTED")  // status of order
            );


            // Create a stream

            $opts = array(
                'http' => array(
                    'method' => 'POST',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $postData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='POST',
                url='/partner/v2/goods-orders/123/change-status',
                body=json.dumps({'orderStatus': 'READY'}),
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Content-Type': 'application/json',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods-orders/123/change-status',
              'method': 'POST',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Content-Type': 'application/json',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var data = JSON.stringify({'orderStatus': 'READY'});

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.end();
      responses:
        '200':
          description: ОК.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoodsOrderDetailed'
  '/goods-orders/{id}/cancel':
    parameters:
      - $ref: '#/components/parameters/id'
    post:
      tags:
        - Goods Order
      summary: Cancel goods order
      description: Method to cancel an goods order
      x-codeSamples:
        - lang: curl
          source: |
            curl -H 'Accept: application/json' \
                 -H "X-Origin-Request-Id: $(uuidgen)" \
                 -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
                 -u "<companyId>:<api_key>"
                 -X POST -s https://api.uds.app/partner/v2/goods-orders/123/cancel
        - lang: PHP
          source: >
            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/goods-orders/123/cancel";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream

            $opts = array(
                'http' => array(
                    'method' => 'POST',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='POST',
                url='/partner/v2/goods-orders/123/cancel',
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8"),
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/goods-orders/123/cancel',
              'method': 'POST',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.end();
      responses:
        '200':
          description: ОК.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GoodsOrderDetailed'
  /image-upload-url:
    post:
      tags:
        - Image uploading
      summary: Generate image upload presigned url
      x-codeSamples:
        - lang: curl
          source: |
            curl -H "accept: application/json" \
            -H "Content-Type: application/json" \
            -H "X-Origin-Request-Id: $(uuidgen)" \
            -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
            -u "<companyId>:<api_key>"
            -d '{ \
                "contentType": "image/jpeg"
              } \
            }' -X POST "https://api.uds.app/partner/v2/image-upload-url"
        - lang: PHP
          source: >
            $date = new DateTime();

            $url = "https://api.uds.app/partner/v2/image-upload-url";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Set request body


            $postData = json_encode(
              array(
                'contentType' => 'image/jpeg'
              )
            );


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'POST',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Content-Type: application/json\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM),
                    'content' => $postData,
                    'ignore_errors' => true
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='POST',
                url='https://api.uds.app/partner/v2/image-upload-url',
                body=json.dumps({
                  'contentType': 'image/jpeg'
                }),
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Content-Type': 'application/json',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/image-upload-url',
              'method': 'POST',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Content-Type': 'application/json',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var data = JSON.stringify({
              'contentType': 'image/jpeg'
            });

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {
                console.log(
                  JSON.parse(response)
                );
              });
            });

            req.write(data);
            req.end();
      requestBody:
        content:
          application/json:
            schema:
              required:
                - contentType
              properties:
                contentType:
                  type: string
                  description: Image file content type.
                  example: image/jpeg
      responses:
        '200':
          description: OK.
          content:
            application/json:
              schema:
                properties:
                  imageId:
                    type: string
                    description: >-
                      Image identifier. This value has to be attached to goods
                      entity.
                  headers:
                    type: object
                    properties:
                      Content-Type:
                        type: array
                        description: Array of allowed content-types
                        items:
                          type: string
                          description: Allowed content-type
                          example: image/jpeg
                    description: Array of allowed content-types.
                  url:
                    type: string
                    description: Presigned upload url.
                  method:
                    type: string
                    description: Http method name.
                    example: PUT
                  expires:
                    type: number
                    description: Expiration time in epoch milliseconds.
                    example: 1632137293751
  /tags:
    get:
      tags:
        - Tags
      summary: List of company tags
      x-codeSamples:
        - lang: curl
          source: |
            curl -H 'Accept: application/json' \
                 -H "X-Origin-Request-Id: $(uuidgen)" \
                 -H "X-Timestamp: $(date --iso-8601=seconds --utc)" \
                 -u "<companyId>:<api_key>"
                 -X GET -s https://api.uds.app/partner/v2/tags
        - lang: PHP
          source: >
            $date = new DateTime();

            $customerId = 123;

            $url = "https://api.uds.app/partner/v2/tags";

            $uuid_v4 = 'UUID'; //generate universally unique identifier version
            4 (RFC 4122)

            $companyId = 123; //set ID of your company

            $apiKey = 'ZDk1MmE5NzMtODcxNi00YzIwLTllZDMtN2ZjM2NjOGI2YTMz'; //set
            company apikey


            // Create a stream


            $opts = array(
                'http' => array(
                    'method' => 'GET',
                    'header' => "Accept: application/json\r\n" .
                                "Accept-Charset: utf-8\r\n" .
                                "Authorization: Basic ". base64_encode("$companyId:$apiKey")."\r\n" .
                                "X-Origin-Request-Id: ".$uuid_v4."\r\n" .
                                "X-Timestamp: ".$date->format(DateTime::ATOM)
                )
            );


            $context = stream_context_create($opts);

            $result = file_get_contents($url, false, $context);


            echo $result;
        - lang: Python
          source: |
            import json
            import uuid
            import base64
            from datetime import datetime
            from http.client import HTTPSConnection

            authString = base64.b64encode(b'<companyId>:<apiKey>')
            customerId = 123
            con = HTTPSConnection('api.uds.app')
            con.request(
                method='GET',
                url='/partner/v2/tags',
                headers={
                    'Accept': 'application/json',
                    'Accept-Charset': 'utf-8',
                    'Authorization': 'Basic ' + authString.decode("utf-8") ,
                    'X-Origin-Request-Id': str(uuid.uuid4()),
                    'X-Timestamp': datetime.now().isoformat(),
                })
            print (con.getresponse().read())
            con.close()
        - lang: Node
          source: |
            var https = require('https');
            var uuid = require('uuid4');
            var authString = '<companyId>' + ':' + '<apiKey>';
            var customerId = 123;

            var options = {
              'host': 'api.uds.app',
              'port': 443,
              'path': '/partner/v2/tags',
              'method': 'GET',
              'headers': {
                'Accept': 'application/json',
                'Accept-Charset': 'utf-8',
                'Authorization': 'Basic ' + Buffer.from(authString).toString('base64'),
                'X-Origin-Request-Id': uuid(),
                'X-Timestamp': new Date().toISOString()
              }
            };

            var req = https.request(options, function(res) {
              res.setEncoding('utf8');
              res.on('data', function (response) {

                console.log(
                  JSON.parse(response)
                );

              });
            });

            req.end();
      responses:
        '200':
          description: Tags.
          content:
            application/json:
              schema:
                properties:
                  rows:
                    type: array
                    description: List of tags.
                    items:
                      $ref: '#/components/schemas/TagModel'
                  total:
                    type: number
                    description: Tags total count.
      description: Request company tags.
components:
  securitySchemes:
    Basic:
      type: http
      scheme: basic
      description: >-
        In order to call API methods, partner applications MUST authenticate
        requests with a [Basic
        Authentication](https://en.wikipedia.org/wiki/Basic_access_authentication).
        To authorize requests clients MUST set authentication token value in
        `Authorization` HTTP header. 


        The header value is a string `Basic <base64-encoded-string>`, where
        `<base64-encoded-string>` is a Base64 encoded string
        `<companyId>:<apiKey>`. Create or get existed `apiKey` from [API
        Settings page](https://admin.uds.app/admin/options/integration). 


        #### Example 


        ```bash 

        curl -X GET -s https://api.uds.app/partner/v2/settings 

        -H "Authorization: Basic MTIzNDp0b2tlbg==" 

        ``` 


        Where `MTIzNDp0b2tlbg==` is a Base64 encoded string `1234:token`
    Webhook:
      type: apiKey
      in: header
      name: X-Signature
      description: >-
        To ensure security of requests, all webhooks are digitally signed. 


        Signature calculation pseudo code: 


        ``` 

        md5 ( concat ( X-RequestId, X-Timestamp, Client-Id, Api-Key ) ) 

        ``` 


        Where: 

        * `md5` - md5 hash function 

        * `concat` - string concatenation 

        * `X-RequestId` - value of `X-RequestId` HTTP header 

        * `X-Timestamp` - value of `X-Timestamp` HTTP header 

        * `Client-Id` - client id (or a company id) 

        * `Api-Key` - same Api-Key required to authenticate Partner API
        requests 


        ### Example 


        For example, client id is `123456` and api-key equals to
        `ZWY5ZmI4ZjQtNTgxMC00M2M3LWE2YTYtZGVhMDRmZTAwNzQxCg==`. 

        Then a typical webhook request is as follows: 


        ``` 

        curl -X POST https://webhook-server.com/api/evetns/transaction \ 
          -H 'X-RequestId: bf7d19b0-8e3c-4d55-98ba-2783915957b3' \ 
          -H 'X-Timestamp: 2018-10-22T13:52:46,769Z' \ 
          -H 'X-Signature: dc8d4416d3e01a40fd10f1c7bf3f4754' \ 
          -d '{ ... }'  # body skipped for the sake of example simplicity 
        ``` 


        Where `dc8d4416d3e01a40fd10f1c7bf3f4754` is a result of: 


        ``` 

        $ echo -n
        'bf7d19b0-8e3c-4d55-98ba-2783915957b32018-10-22T13:52:46,769Z123456ZWY5ZmI4ZjQtNTgxMC00M2M3LWE2YTYtZGVhMDRmZTAwNzQxCg=='
        | md5sum 

        dc8d4416d3e01a40fd10f1c7bf3f4754  - 

        ```
  responses:
    NotFound:
      description: Object not found.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/GeneralError'
  parameters:
    id:
      name: id
      in: path
      description: Object ID.
      schema:
        type: integer
        format: int64
      required: true
    max:
      name: max
      in: query
      description: Limit number of results in response.
      schema:
        type: integer
        default: 10
        maximum: 50
    offset:
      name: offset
      in: query
      description: Rows count to skip.
      schema:
        type: integer
        default: 0
        maximum: 10000
    cursor:
      name: cursor
      in: query
      description: Paginate results by cursor.
      schema:
        type: string
    externalId:
      name: externalId
      in: path
      description: Object external identifier.
      schema:
        type: string
      required: true
    x-request-id:
      name: X-Origin-Request-Id
      in: header
      description: Query identifier (UUID).
      required: true
      schema:
        type: string
    x-timestamp:
      name: X-Timestamp
      in: header
      description: Timestamp in ISO8601 date format.
      required: true
      schema:
        type: string
        format: date-time
    x-signature:
      name: X-Signature
      in: header
      description: Webhook request signature.
      required: true
      schema:
        type: string
  headers:
    X-Request-Id:
      description: Unique request identifier.
      schema:
        type: string
        format: uuid
    X-Timestamp:
      description: Request timestamp.
      schema:
        type: string
        format: date-time
  schemas:
    GeneralError:
      type: object
      description: General error.
      properties:
        errorCode:
          $ref: '#/components/schemas/ErrorCode'
        message:
          type: string
          description: Error description.
      required:
        - errorCode
        - message
    ErrorCode:
      type: string
      description: Error code.
      enum:
        - notFound
        - badRequest
        - forbidden
    CompanySettings:
      type: object
      description: Company settings.
      required:
        - id
        - name
        - promoCode
        - marketingSettings
        - currency
        - baseDiscountPolicy
        - purchaseByPhone
        - usePointsByPhone
        - writeInvoice
        - slug
      properties:
        id:
          type: integer
          description: Company ID.
        name:
          type: string
          description: Company name.
        promoCode:
          type: string
          description: Company promo code for customers to join.
        currency:
          description: Currency in ISO-4217 format.
          nullable: true
          type: string
        baseDiscountPolicy:
          type: string
          description: |-
            Defines loyalty program type: 
            * `APPLY_DISCOUNT` — apply a discount to an order; 
            * `CHARGE_SCORES` — customer will receive points award (cashback).
          enum:
            - APPLY_DISCOUNT
            - CHARGE_SCORES
        loyaltyProgramSettings:
          $ref: '#/components/schemas/LoyaltyProgramSettings'
        purchaseByPhone:
          type: boolean
          description: Permission to make purchases by phone number.
        usePointsByPhone:
          type: boolean
          description: Permission to spend points purchases by phone number.
        writeInvoice:
          type: boolean
          description: >-
            Necessity to indicate a bill number when performing transactions
            through UDS Cashier.
        slug:
          type: string
          description: The domain name that appears in the link to your company's web page.
    LoyaltyProgramSettings:
      type: object
      description: >-
        General [loyalty program
        settings](https://admin.uds.app/admin/options/loyalty-program/bonus) of
        the company.
      required:
        - baseMembershipTier
        - membershipTiers
        - referralCashbackRates
        - cashierAward
        - referralReward
        - discountVip
        - receiptLimit
        - deferPointsForDays
      properties:
        baseMembershipTier:
          $ref: '#/components/schemas/MembershipTier'
        membershipTiers:
          type: array
          description: Status settings.
          items:
            $ref: '#/components/schemas/MembershipTier'
        referralCashbackRates:
          type: array
          description: Referral cashback rates (3 levels as a percentage).
          items:
            type: number
        cashierAward:
          type: number
          nullable: true
          description: Cashier’s reward rate for the performed transaction.
        referralReward:
          type: number
          nullable: true
          description: Customer’s reward for an effective recommendation.
        receiptLimit:
          type: number
          nullable: true
          description: Maximum transaction amount that can be made through UDS Cashier.
        deferPointsForDays:
          type: number
          nullable: true
          description: Term (in days) to accrue deferred points.
        firstPurchasePoints:
          type: number
          nullable: true
          minimum: 0.01
          description: Number of points for the first purchase
    Customer:
      type: object
      description: Customer information.
      properties:
        uid:
          type: string
          description: Customer UID in the UDS.
          nullable: true
        avatar:
          type: string
          description: URL of user profile picture.
          nullable: true
        displayName:
          type: string
          description: Customer name.
        gender:
          type: string
          nullable: true
          description: Gender.
          allOf:
            - $ref: '#/components/schemas/Gender'
        phone:
          type: string
          description: Customer phone number.
          nullable: true
        birthDate:
          type: string
          nullable: true
          format: date
          readOnly: true
          description: Customer birth date.
        participant:
          $ref: '#/components/schemas/Participant'
        channelName:
          type: string
          description: Traffic source.
          nullable: true
        email:
          type: string
          description: Customer email.
          nullable: true
    CustomerDetail:
      description: Customer information.
      allOf:
        - $ref: '#/components/schemas/Customer'
        - type: object
          properties:
            tags:
              description: Customer tags list.
              type: array
              nullable: false
              default: []
              items:
                $ref: '#/components/schemas/TagModel'
    PurchaseTokenAction:
      description: Purchase token type.
      type: string
      nullable: false
      enum:
        - PURCHASE
        - BONUS_ITEMS_PURCHASE
        - GOODS_ORDER_COMPLETE
        - CERTIFICATE
    MembershipTier:
      type: object
      description: Status settings.
      required:
        - name
        - rate
      properties:
        uid:
          type: string
          description: Status UID.
          readOnly: true
        name:
          type: string
          description: Status name.
        rate:
          type: number
          description: Status rate.
          maximum: 100
          minimum: 0
        maxScoresDiscount:
          type: number
          nullable: true
          description: Maximum discount (as a percentage) allowed for redeeming points.
        conditions:
          type: object
          description: Conditions to upgrade customer's status automatically.
          properties:
            totalCashSpent:
              type: object
              description: Upgrade status when customer reaches that amount of cash spent.
              nullable: true
              properties:
                target:
                  type: number
                  description: Amount of cash spent.
            effectiveInvitedCount:
              type: object
              description: >-
                Upgrade to tier when customer reaches target
                `effectiveInvitedCount`.
              nullable: true
              properties:
                target:
                  type: integer
                  description: Amount of invited count.
    Gender:
      type: string
      nullable: true
      description: Gender.
      enum:
        - MALE
        - FEMALE
        - NOT_SPECIFIED
    Participant:
      type: object
      description: Customer details.
      properties:
        id:
          type: integer
          format: int64
          nullable: true
          description: Customer ID in the company.
        inviterId:
          type: integer
          format: int64
          nullable: true
          description: ID of the inviting user in the company.
        points:
          type: number
          description: Points available.
        discountRate:
          type: number
          description: Discount rate (as a percentage).
        cashbackRate:
          type: number
          description: Cashback rate (as a percentage) for this UDS user.
        cashSpent:
          type: number
          description: Sum of paid with cash.
        savedFunds:
          type: number
          description: 'Sum of discount and sum of paid with points, certificates.'
        invitedCount:
          type: integer
          description: Number of recommendations.
        effectiveInvitedCount:
          type: integer
          description: Number of effective recommendations.
        operationsCount:
          type: integer
          description: Number of purchases.
        fullRefundsCount:
          type: integer
          description: Number of full refunds.
        note:
          type: string
          nullable: true
          description: Note.
        membershipTier:
          $ref: '#/components/schemas/MembershipTier'
        dateCreated:
          type: string
          nullable: true
          format: date-time
          readOnly: true
          description: Date when the customer joined the company.
        lastTransactionTime:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          description: Date and time when the customer made the last transaction.
        pointsExpireIn:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          description: Date and time when the customer's points will be expired.
    Operation:
      type: object
      description: Operation information.
      required:
        - action
      discriminator:
        propertyName: action
        mapping:
          PURCHASE: '#/components/schemas/PurchaseOperation'
      properties:
        id:
          type: integer
          description: Transaction ID in the UDS.
          format: int64
          readOnly: true
        dateCreated:
          type: string
          description: Transaction date.
          format: date-time
          readOnly: true
        action:
          $ref: '#/components/schemas/Action'
          description: Transaction type.
        state:
          $ref: '#/components/schemas/ActionState'
        customer:
          allOf:
            - $ref: '#/components/schemas/CustomerShortInfo'
            - type: object
              properties:
                uid:
                  nullable: true
                  description: Customer UID in the UDS.
        cashier:
          allOf:
            - $ref: '#/components/schemas/CashierInfo'
            - nullable: true
        branch:
          allOf:
            - $ref: '#/components/schemas/BranchInfo'
            - nullable: true
        points:
          type: number
          description: >-
            Number of points that will be deducted from the customer's balance
            when a transaction is completed. A negative value indicates
            deduction of points, and a positive value indicates accrual of
            points.
        certificatePoints:
          type: number
          nullable: true
          description: Number of deducted certificate points.
        receiptNumber:
          type: string
          nullable: true
          description: Bill number.
        origin:
          type: object
          description: >-
            Reference to initial transaction (for transactions in state
            REVERSAL).
          nullable: true
          properties:
            id:
              type: integer
              format: int64
              description: Initial transaction ID.
    VoucherInfo:
      description: Voucher information.
      properties:
        code:
          type: string
          description: UDS voucher code.
        qrCodeText:
          type: string
          description: UDS voucher info for qrcode.
        qrCode128:
          type: string
          description: Link for generate qrcode image (size 128).
        qrCode256:
          type: string
          description: Link for generate qrcode image (size 256)
        expiresIn:
          type: string
          format: date-time
          description: Voucher code expires in (UTC time-zone).
        points:
          type: number
          description: Minimum points for withdrawal.
    CreateVoucher:
      type: object
      required:
        - receipt
      properties:
        nonce:
          type: string
          nullable: true
          description: Nonce for voucher (UUID)
        cashier:
          type: object
          nullable: true
          description: Cashier information.
          properties:
            externalId:
              type: string
              description: External cashier identifier.
            name:
              type: string
              nullable: true
              description: Cashier name.
        receipt:
          type: object
          description: Receipt information.
          required:
            - total
            - cash
            - points
          properties:
            total:
              type: number
              description: Total receipt amount (in currency units).
            number:
              type: string
              nullable: true
              description: Receipt number.
            skipLoyaltyTotal:
              type: number
              nullable: true
              description: >-
                A part of the bill amount for which cashback is not credited and
                to which the discount does not apply (in currency units).
    CreateOperation:
      type: object
      description: Operation information.
      required:
        - receipt
      properties:
        code:
          type: string
          nullable: true
          description: Payment code.
        participant:
          type: object
          nullable: true
          description: Customer information.
          properties:
            uid:
              type: string
              nullable: true
              description: Customer UID in the UDS.
            phone:
              type: string
              nullable: true
              description: Customer phone number.
        nonce:
          type: string
          nullable: true
          description: Transaction unique identifier (UUID).
        cashier:
          type: object
          nullable: true
          description: Сashier information.
          properties:
            externalId:
              type: string
              description: External cashier identifier.
            name:
              type: string
              nullable: true
              description: Cashier name.
        receipt:
          type: object
          description: Receipt information.
          required:
            - total
            - cash
            - points
          properties:
            total:
              type: number
              description: Total bill amount (in currency units).
            cash:
              type: number
              description: Bill amount (in currency units).
            points:
              type: number
              description: Bill amount (in points).
            number:
              type: string
              nullable: true
              description: Bill number.
            skipLoyaltyTotal:
              type: number
              nullable: true
              description: >-
                A part of the bill amount for which cashback is not credited and
                to which the discount does not apply (in currency units).
            unredeemableTotal:
              type: number
              nullable: true
              description: A part of total that cannot be redeemed with points.
        tags:
          type: array
          nullable: true
          description: >-
            List of company tags ids to be set to customer. Value `null` means
            that customer tags will not be changed.
          items:
            $ref: '#/components/schemas/TagId'
    PurchaseCalcRequest:
      description: Operation information.
      type: object
      required:
        - receipt
      properties:
        code:
          type: string
          nullable: true
          description: Payment code.
        participant:
          type: object
          nullable: true
          description: Customer information.
          properties:
            uid:
              type: string
              nullable: true
              description: Customer UID in the UDS.
            phone:
              type: string
              nullable: true
              description: Phone number
        receipt:
          type: object
          description: Receipt information.
          required:
            - total
          properties:
            total:
              type: number
              description: Total bill amount without discount.
            skipLoyaltyTotal:
              type: number
              description: >-
                A part of the bill amount for which cashback is not credited and
                to which the discount does not apply (in currency units).
            unredeemableTotal:
              type: number
              description: A part of total that cannot be redeemed with points.
            points:
              type: number
              description: >-
                Number of points to be redeemed (maximum available number of
                points by default).
    PurchaseCalcResponse:
      type: object
      required:
        - user
        - purchase
      properties:
        user:
          $ref: '#/components/schemas/CustomerDetail'
        purchase:
          $ref: '#/components/schemas/PurchaseCalc'
    PurchaseCalc:
      type: object
      description: Operation information.
      properties:
        maxPoints:
          type: number
          description: Maximum number of points available.
        total:
          type: number
          description: Total bill (in currency units).
        skipLoyaltyTotal:
          type: number
          description: >-
            A part of the bill amount for which cashback is not credited and to
            which the discount does not apply (in currency units).
        unredeemableTotal:
          type: number
          description: A part of total that cannot be redeemed with points.
        discountAmount:
          description: Discount amount (in currency units).
          type: number
        discountPercent:
          description: Discount rate (as a percentage).
          type: number
        points:
          type: number
          description: Payable points.
        pointsPercent:
          description: Discount rate due to points (as a percentage).
          type: number
        netDiscount:
          description: Total discount amount (in currency unit).
          type: number
        netDiscountPercent:
          description: Total discount rate (as a percentage of the total bill).
          type: number
        certificatePoints:
          description: Number of deducted certificate points.
          type: number
        cash:
          type: number
          description: Payable amount (in currency units).
        cashTotal:
          type: number
          description: >-
            The total amount to be paid including extras (delivery), in currency
            units.
        cashBack:
          type: number
          description: >-
            Reward (cashback) that will be accrued after transaction completion
            (in points).
        extras:
          type: object
          description: >-
            Additional payments will not be taken into account by the loyalty
            program.
          properties:
            delivery:
              type: number
              description: Delivery cost (in currency units).
        maxScoresDiscount:
          type: number
          description: Maximum discount (as a percentage) allowed for redeeming points.
    Action:
      type: string
      description: Transaction type.
      enum:
        - PURCHASE
    ActionState:
      type: string
      description: Transaction status.
      enum:
        - NORMAL
        - CANCELED
        - REVERSAL
    PurchaseOperation:
      allOf:
        - $ref: '#/components/schemas/Operation'
        - type: object
          properties:
            total:
              type: number
              description: Total bill amount without discount.
            cash:
              type: number
              description: Payment amount (in currency units).
      description: Customer UID in the UDS.
    Reference:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: Identifier.
        displayName:
          type: string
          description: Name.
    CashierInfo:
      type: object
      description: Cashier information.
      properties:
        id:
          type: integer
          format: int64
          description: Cashier ID in the UDS.
        displayName:
          type: string
          description: Cashier name.
    ParticipantShortInfo:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: Customer ID in the company.
        displayName:
          type: string
          description: Customer name.
    BranchInfo:
      type: object
      description: Branch information.
      properties:
        id:
          type: integer
          format: int64
          description: Branch ID in the UDS.
        displayName:
          type: string
          description: Branch name.
    GoodsInfoType:
      type: object
      description: Goods information.
      required:
        - name
        - data
      properties:
        id:
          type: integer
          readOnly: true
          description: Goods ID in the UDS.
        name:
          type: string
          description: Goods name.
        data:
          $ref: '#/components/schemas/GoodsData'
        hidden:
          type: boolean
          description: Is the goods hidden.
        blocked:
          type: boolean
          description: Is the goods blocked.
          readOnly: true
        nodeId:
          type: integer
          nullable: true
          description: ID of the category in which the product is included.
        imageUrls:
          description: Array of links to item image.
          type: array
          nullable: false
          readOnly: true
          items:
            type: string
            nullable: false
        externalId:
          type: string
          nullable: true
          description: External goods identifier.
        dateCreated:
          type: string
          format: date-time
          readOnly: true
          description: Date item created.
    GoodsDetailed:
      description: Goods properties.
      required:
        - name
        - data
      properties:
        id:
          type: integer
          readOnly: true
          description: Goods ID in the UDS.
        name:
          type: string
          description: Goods name.
        nodeId:
          type: integer
          nullable: true
          description: ID of the category in which the item is included.
        externalId:
          type: string
          nullable: true
          description: External goods identifier.
        dateCreated:
          type: string
          format: date-time
          readOnly: true
          description: Date item created.
        data:
          $ref: '#/components/schemas/GoodsData'
        hidden:
          type: boolean
          nullable: true
          description: Is the goods hidden.
        blocked:
          type: boolean
          nullable: true
          readOnly: true
          description: Is the goods blocked.
        imageUrls:
          description: Array of links to item image.
          type: array
          nullable: false
          readOnly: true
          items:
            type: string
            nullable: false
    GoodsData:
      type: object
      description: Goods properties.
      oneOf:
        - $ref: '#/components/schemas/GoodsCategoryType'
        - $ref: '#/components/schemas/GoodsItemType'
        - $ref: '#/components/schemas/GoodsVaryingItemType'
      discriminator:
        propertyName: type
        mapping:
          CATEGORY: '#/components/schemas/GoodsCategoryType'
          ITEM: '#/components/schemas/GoodsItemType'
          VARYING_ITEM: '#/components/schemas/GoodsVaryingItemType'
    GoodsCategoryType:
      type: object
      required:
        - type
      properties:
        type:
          $ref: '#/components/schemas/GoodsType'
    GoodsItemType:
      type: object
      required:
        - type
      properties:
        type:
          $ref: '#/components/schemas/GoodsType'
        sku:
          type: string
          nullable: true
          description: Item stock number.
        price:
          type: number
          description: Item price.
        description:
          type: string
          nullable: true
          description: Item description.
        offer:
          allOf:
            - $ref: '#/components/schemas/GoodsOffer'
            - nullable: true
        inventory:
          $ref: '#/components/schemas/GoodsInventory'
        photos:
          $ref: '#/components/schemas/GoodsPhotos'
        measurement:
          $ref: '#/components/schemas/GoodsMeasurement'
        increment:
          type: number
          nullable: true
          description: >-
            Amount of the item that the buyer can increase or decrease by 1
            interval
        minQuantity:
          type: number
          nullable: true
          description: Minimal quantity of item for order
        vatCode:
          allOf:
            - $ref: '#/components/schemas/VatCode'
            - nullable: true
        paymentSubject:
          allOf:
            - $ref: '#/components/schemas/PaymentSubject'
            - nullable: true
    GoodsVaryingItemType:
      type: object
      description: Variant description.
      required:
        - type
      properties:
        type:
          $ref: '#/components/schemas/GoodsType'
        variants:
          type: array
          description: Variants of item.
          items:
            allOf:
              - $ref: '#/components/schemas/GoodsVariantType'
        description:
          type: string
          nullable: true
          description: Variant description.
        photos:
          $ref: '#/components/schemas/GoodsPhotos'
        vatCode:
          allOf:
            - $ref: '#/components/schemas/VatCode'
            - nullable: true
        paymentSubject:
          allOf:
            - $ref: '#/components/schemas/PaymentSubject'
            - nullable: true
    GoodsVariantType:
      properties:
        name:
          type: string
          description: Variant name.
        sku:
          type: string
          nullable: true
          description: Variant stock number.
        price:
          type: number
          description: Variant price.
        offer:
          allOf:
            - $ref: '#/components/schemas/GoodsOffer'
            - nullable: true
        inventory:
          $ref: '#/components/schemas/GoodsInventory'
    GoodsOffer:
      type: object
      description: Promotional information.
      properties:
        offerPrice:
          type: number
          nullable: true
          description: Discount price.
        skipLoyalty:
          type: boolean
          description: >-
            Flag of goods item price which cashback is not credited and to which
            the discount does not apply (in currency units).
    GoodsInventory:
      type: object
      nullable: true
      description: Item quantity in stock.
      properties:
        inStock:
          type: integer
          description: Item quantity in stock. The "null" value means unlimited quantity.
          nullable: true
    GoodsType:
      type: string
      enum:
        - CATEGORY
        - ITEM
        - VARYING_ITEM
    GoodsPhotos:
      type: array
      nullable: false
      description: Array of image identifiers.
      items:
        type: string
        description: Base64 encoded photo path
    GoodsOrderDetailed:
      type: object
      description: Order information.
      properties:
        id:
          type: integer
          description: Order ID in the UDS.
        dateCreated:
          type: string
          format: date-time
          description: Order date.
        comment:
          type: string
          nullable: true
          description: Comment on the order.
        state:
          $ref: '#/components/schemas/GoodsOrderState'
          description: Order status.
        orderStatus:
          nullable: true
          description: Order processing status.
          allOf:
            - $ref: '#/components/schemas/GoodsOrderUpdateStatus'
        cash:
          type: number
          description: Amount payable in currency units.
        points:
          type: number
          description: Number of deducted points.
        total:
          type: number
          description: Total order amount.
        certificatePoints:
          type: number
          description: Number of deducted certificate points.
        customer:
          $ref: '#/components/schemas/CustomerShortInfo'
        delivery:
          $ref: '#/components/schemas/DeliveryType'
        onlinePayment:
          type: object
          nullable: true
          allOf:
            - $ref: '#/components/schemas/OnlinePayment'
        paymentMethod:
          $ref: '#/components/schemas/PaymentMethod'
        items:
          type: array
          description: Items information.
          items:
            allOf:
              - $ref: '#/components/schemas/GoodsOrderItem'
        purchase:
          type: object
          nullable: false
          allOf:
            - $ref: '#/components/schemas/PurchaseCalc'
    GoodsOrderUpdate:
      type: object
      properties:
        deliveryCase:
          $ref: '#/components/schemas/DeliveryCase'
        items:
          type: array
          description: Items information.
          items:
            oneOf:
              - $ref: '#/components/schemas/GoodsOrderItemUpdate'
              - $ref: '#/components/schemas/GoodsOrderItemNew'
    GoodsOrderItemUpdate:
      type: object
      properties:
        id:
          type: integer
          description: Item ID in the UDS.
        variantName:
          type: string
          description: 'Name of the item option, if the type of this item is VARYING_ITEM.'
        qty:
          type: integer
          description: Quantity.
    GoodsOrderItemNew:
      type: object
      properties:
        externalId:
          type: string
          description: External item identifier.
        name:
          type: string
          description: Item name.
        variantName:
          type: string
          description: 'Name of the item option, if the type of this item is VARYING_ITEM.'
        qty:
          type: integer
          description: Quantity
        price:
          type: number
          description: Item price.
        skipLoyalty:
          type: boolean
          default: false
          description: Don’t apply loyalty program terms.
    OnlinePayment:
      type: object
      nullable: true
      description: Online payment information.
      properties:
        paymentProvider:
          type: string
          description: Payment provider type.
          enum:
            - B2P
            - CLOUD_PAYMENTS
            - YOOKASSA
            - PAYTURE
            - CUSTOM
        id:
          type: string
          description: Payment identifier in external payment system.
        completed:
          type: boolean
          description: Payment status.
    PaymentMethod:
      type: object
      description: Payment information.
      properties:
        type:
          type: string
          description: Payment type.
          enum:
            - BEST_TO_PAY
            - CLOUD_PAYMENTS
            - CASH
            - MANUAL
            - CUSTOM
        name:
          type: string
          description: Name for custom payment method with type MANUAL.
          nullable: true
        online:
          type: boolean
          description: Is payment online.
        providerType:
          type: string
          description: Payment provider type.
          nullable: true
    GoodsOrderItem:
      type: object
      description: Item information.
      properties:
        id:
          type: integer
          description: Item ID in the UDS.
        externalId:
          type: string
          nullable: true
          description: External item identifier.
        name:
          type: string
          description: Item name.
        variantName:
          type: string
          nullable: true
          description: 'Name of the item option, if the type of this item is VARYING_ITEM.'
        sku:
          type: string
          nullable: true
          description: Item stock number.
        type:
          type: string
          description: Item type.
          enum:
            - ITEM
            - VARYING_ITEM
        qty:
          type: integer
          description: Quantity.
        price:
          type: number
          description: Item price.
        offerPrice:
          type: number
          nullable: true
          description: Discount price.
        skipLoyalty:
          type: boolean
          default: false
          description: Don’t apply loyalty program terms.
        measurement:
          $ref: '#/components/schemas/GoodsMeasurement'
    DeliveryType:
      type: object
      description: Method of receiving the order.
      oneOf:
        - $ref: '#/components/schemas/Pickup'
        - $ref: '#/components/schemas/Delivery'
      discriminator:
        propertyName: type
        mapping:
          PICKUP: '#/components/schemas/Pickup'
          DELIVERY: '#/components/schemas/Delivery'
    ReceiverInfo:
      type: object
      description: Receiver information.
      properties:
        receiverName:
          type: string
          description: Name of the customer who will pick up the order.
        receiverPhone:
          type: string
          description: Phone number of the customer who will pick up the order.
        userComment:
          type: string
          nullable: true
          description: Customer comment on the order.
    DeliveryTypes:
      type: string
      description: Type of receiving the order.
      enum:
        - PICKUP
        - DELIVERY
    Pickup:
      type: object
      description: Pickup of the order.
      required:
        - type
      allOf:
        - $ref: '#/components/schemas/ReceiverInfo'
        - type: object
          properties:
            branch:
              $ref: '#/components/schemas/BranchInfo'
            type:
              $ref: '#/components/schemas/DeliveryTypes'
    Delivery:
      type: object
      description: Order delivery.
      required:
        - type
      allOf:
        - $ref: '#/components/schemas/ReceiverInfo'
        - type: object
          properties:
            deliveryCase:
              $ref: '#/components/schemas/DeliveryCase'
            address:
              type: string
              nullable: true
              description: Delivery address.
            type:
              $ref: '#/components/schemas/DeliveryTypes'
    DeliveryCase:
      properties:
        name:
          type: string
          description: Delivery name.
          example: zone A
        value:
          type: number
          description: Cost of delivery.
          example: 0.1
      description: Delivery information.
    CustomerShortInfo:
      type: object
      description: Customer information.
      allOf:
        - $ref: '#/components/schemas/ParticipantShortInfo'
        - properties:
            uid:
              type: string
              description: Customer UID in the UDS.
            membershipTier:
              $ref: '#/components/schemas/MembershipTier'
    GoodsOrderState:
      type: string
      description: Order status.
      enum:
        - NEW
        - COMPLETED
        - DELETED
        - WAITING_PAYMENT
        - NEED_ACK
    GoodsOrderUpdateStatus:
      type: string
      description: Order processing status.
      enum:
        - ACCEPTED
        - READY
    GoodsMeasurement:
      type: string
      description: Goods measurement.
      enum:
        - PIECE
        - CENTIMETRE
        - METRE
        - MILLILITRE
        - LITRE
        - GRAM
        - KILOGRAM
        - TON
        - SQUARE_METRE
        - CUBIC_METRE
        - DAY
        - HOUR
        - MINUTE
        - KILOMETRE
    VatCode:
      type: string
      description: VAT rate codes.
      enum:
        - NO_NDS
        - NDS_0
        - NDS_10
        - NDS_20
        - NDS_10_110
        - NDS_20_120
    PaymentSubject:
      type: string
      description: Payment item attribute.
      enum:
        - COMMODITY
        - EXCISE
        - SERVICE
    TaxSystemCode:
      type: string
      description: >-
        Tax system codes:  `OSN` - General taxation system,  `USN_INCOME` -
        Simplified (USN, income),  `USN_INCOME_EXPENSES` - Simplified (USN,
        income minus expenses),  `ENVD` - A single tax on imputed income
        (ENVD),  `ESN` - Unified agricultural tax (ESN), `PSN` - Patent tax
        system.
      enum:
        - OSN
        - USN_INCOME
        - USN_INCOME_EXPENSES
        - ENVD
        - ESN
        - PSN
    TagId:
      type: integer
      format: int64
      example: 1
      description: Tag identifier.
    TagModel:
      type: object
      properties:
        id:
          $ref: '#/components/schemas/TagId'
        name:
          description: Tag name.
          type: string
      description: Tag.
